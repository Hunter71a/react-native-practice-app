(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{1051:function(e,t,n){"use strict";n.d(t,"b",(function(){return g}));var o=n(54),r=n(1072),i=n(46),a=n(16),s=n(18),c=n(203),l=n(52),p=n(20),u=n(292),d=n(25),h=n(748),m=n(604),f=n(1003),g=function(e,t,n){var o=e.officeHoursResponse;return Object.assign({},e,t,n,{onOpen:function(){var n=e.conversation,o=e.part;t.onOpen(n.id,o.id)},onConversationRead:function(){t.onConversationRead(e.conversation.id)},onComposerOrFormInputClick:function(){t.onComposerOrFormInputClick(e.conversation.id)},onReactionSelect:function(n){t.onReactionSelect(e.conversation.id,n)},onClose:function(){var n=e.conversation;t.onClose(n.id)},onSuggestionClicked:function(n){var r=e.conversation,i=Object(f.c)(r);t.onSuggestionClicked(r,n,i,o)},setComposerSuggestionsDismissed:function(){t.setComposerSuggestionsDismissed(e.conversation.id)}})};t.a=Object(o.connect)((function(e){var t=e.user.isPresent,n=e.app,o=n.name,r=n.userConversationAttachmentsEnabled,a=n.userConversationGifsEnabled,c=e.message.partId,l=Object(u.a)(e)[0],p=s.a.isMobileBrowser(),h=void 0!==c?l.parts.find((function(e){return e.id===c})):function(e){return e.readAt?Object(d.r)(e):Object(d.b)(e)}(l),m=(h||{}).messageType;m=m||"adminReply",h=Object.assign({},h,{messageType:m});var g=Object(i.i)(e),b=e.app.upfrontEmailCollection.upfrontEmailCollectorShowing;return{appName:o,conversation:l,conversationSuggestions:Object(f.a)(e),typeAheadSuggestions:Object(f.d)(e),part:h,userIsPresent:t,isMobile:p,showUploadButton:r,showGifButton:a,shouldShowUpfrontEmailComposer:g,isUpfrontEmailComposerShowing:b,officeHoursResponse:e.app&&e.app.officeHoursResponse}}),(function(e){return{onOpen:function(t,n){e(Object(c.b)(t,n)),e(Object(c.c)(t,n))},onClose:function(){e(Object(c.a)())},onConversationRead:function(t){e(Object(p.n)(a.b,t))},onComposerOrFormInputClick:function(t){e(Object(c.a)()),e(Object(l.f)(t)),e(Object(p.l)(a.b,t))},onReactionSelect:function(t,n){e(Object(p.k)(a.b,t,n,!1))},onSuggestionClicked:function(t,n,o,r){e(Object(h.a)(a.b,t,n,!1,o,!0,r))},setComposerSuggestionsDismissed:function(t){e(Object(m.b)(t))}}}),g)(r.a)},1072:function(e,t,n){"use strict";var o=n(150),r=n.n(o),i=n(0),a=n.n(i),s=n(1078),c=n(1028),l=n(22),p=n(208),u=n(983),d=n(985),h=n(955),m=n(2),f=n(969),g=Object(m.d)("0%{opacity:0;}70%{opacity:0;transform:translateY(20px);}100%{opacity:1;transform:translateY(0);}"),b=Object(m.c)("div",{target:"enffyqv0"})("position:relative;box-sizing:border-box;padding:17px 20px;margin-top:5px;width:100%;height:",Object(m.f)("chatComposerHeightPx"),"px;background-color:",Object(m.f)("inputBackground"),";border-radius:",Object(m.f)("notificationBorderRadiusPx"),"px;border:none;font-size:14px;cursor:pointer;color:",Object(m.f)("inputPlaceholder"),";box-shadow:0 1px 6px rgba(0,0,0,0.06),0 2px 32px rgba(0,0,0,0.16);animation:",g," 750ms ease;",(function(e){var t=e.theme,n=e.useBorderlessAvatarOffset;return t.isLeftAlign&&n&&Object(m.b)("margin-left:",-t.borderlessAvatarOffsetWidthPx,"px;width:calc(100% + ",t.borderlessAvatarOffsetWidthPx,"px);")})),v=Object(m.c)("span",{target:"enffyqv1"})({name:"1rju6wc",styles:"display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:140px;line-height:18px;"}),y=Object(m.c)("div",{target:"enffyqv2"})({name:"1cp2t9f",styles:"position:absolute;top:0;right:18px;"}),O=Object(m.c)("span",{target:"enffyqv3"})({name:"pctu5d",styles:"position:relative;float:left;display:inline-block;cursor:pointer;opacity:0.8;transition:opacity 200ms ease;height:51px;margin-top:2px;&:hover{opacity:1;}&:before{position:absolute;top:20px;background-position:center;}svg{position:absolute;top:18px;}"},";width:",18,"px;padding-left:",9,"px;padding-right:",9,"px;svg{height:18px;width:18px;}svg path{fill:",Object(m.f)("grey"),";}&:before{top:18px;}"),C=Object(m.c)(f.a,{target:"enffyqv4"})({name:"g6u7x8",styles:"right:18px;"}),w=Object(m.c)(f.c,{target:"enffyqv5"})({name:"1yphczb",styles:"&:before{top:18px;}"}),S=Object(m.c)(f.j,{target:"enffyqv6"})({name:"1yphczb",styles:"&:before{top:18px;}"});function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return j(x(t=e.call.apply(e,[this].concat(o))||this),"handleDismissClick",(function(e){e.stopPropagation(),t.props.onClose()})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.renderComposer=function(){var e=this.props.part.author.firstName;return a.a.createElement(b,{useBorderlessAvatarOffset:!0},a.a.createElement(v,{className:"chat-composer-placeholder"},Object(l.d)("reply_to_name",{name:e})),a.a.createElement(C,null,a.a.createElement(w,null,a.a.createElement(d.a,null)),a.a.createElement(S,null,a.a.createElement(u.a,null))))},r.renderAttributeCollectorCard=function(){var e=this.props,t=e.part,n=e.frameWindow;return a.a.createElement(c.a,{part:t,hasAvatar:!1,isBorderless:!0,isReplyType:!0,frameWindow:n,key:Object(p.a)(JSON.stringify(t))})},r.renderDismissButton=function(){return a.a.createElement(h.b,{onClick:this.handleDismissClick,"aria-label":Object(l.d)("clear")},a.a.createElement("span",null,Object(l.d)("clear")))},r.renderReplyType=function(){switch(this.props.part.replyType){case"attribute_collector":return this.renderAttributeCollectorCard();default:return this.renderComposer()}},r.renderChatCardGroup=function(){var e=this.props,t=e.appName,n=e.part,o=e.frameWindow;return a.a.createElement(s.a,{appName:t,part:n,isBorderless:!0,isMobile:!0,frameWindow:o})},r.render=function(){var e=this.props,t=e.composerState,n=e.onComposerOrFormInputClick;return a.a.createElement(h.a,{className:"intercom-chat",onClick:n},this.renderChatCardGroup(),this.renderDismissButton(),t.visible&&this.renderReplyType())},o}(i.Component),E=n(286),R=n(583),P=n(45),_={name:"145vpms",styles:"left:0;right:auto;"},T=Object(m.c)(R.a,{target:"e1g9h0if0"})("z-index:",Object(P.m)(),";position:fixed;max-width:360px;width:calc(100% - 25px);right:0;",(function(e){var t=e.height;return(Object(m.b)("bottom:0;height:",t+20,"px;"))})," ",(function(e){return e.theme.isLeftAlign&&_})," ",(function(e){var t=e.theme,n=e.height;return t.isLauncherEnabled&&Object(m.b)("height:",n+t.launcherOffsetBottomPaddingPx+20,"px;")})),I=n(965);function N(e){var t=e.appName,n=e.part,o=e.onClose,r=e.onComposerOrFormInputClick,s=e.composerState,c=Object(i.useState)(0),p=c[0],u=c[1],d=function(e){var t=e.height;return u(t)};return a.a.createElement(T,{frameName:"intercom-chat-frame",height:p,title:"Intercom live chat "+Object(l.d)("message")},(function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{onChange:d},a.a.createElement(k,{appName:t,part:n,onClose:o,composerState:s,onComposerOrFormInputClick:r,frameWindow:e})),a.a.createElement(I.a,{appWindow:e}))}))}var B=n(976),M=n(952),A=n(967),H=n(988),F=n(26),D=n(1055),q=n(1030),V=n(7),W=n(957),z=n(353);function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return G(U(t=e.call.apply(e,[this].concat(o))||this),"state",{isFooterVisible:!0,isScrolled:!1}),G(U(t),"handleScroll",(function(e){var n=t.state.isFooterVisible,o=Object(F.l)(e.target);t.setState({isFooterVisible:n||o<=t.getFooterHeight(),isScrolled:e.target.scrollTop>0}),Object(z.a)(e)})),G(U(t),"handleScrollable",(function(e){var n=e.scrollHeight-e.clientHeight,o=t.state.isFooterVisible||void 0===t.props.reactionsReply||n<=t.getReactionsVisibilityThreshold();t.setState({isFooterVisible:o})})),G(U(t),"addClickedComposerMetric",(function(){var e=t.props,n=e.message.id,o=e.conversationId;Object(V.e)("clicked","composer","in_app","from_full",{message_type:"note",message_id:n,conversation_id:o})})),G(U(t),"handleComposerClick",(function(){t.addClickedComposerMetric(),t.props.onComposerClick()})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.getReactionsVisibilityThreshold=function(){return this.getFooterHeight()+20},r.getFooterHeight=function(){return this.footer?this.footer.clientHeight:0},r.renderFooter=function(){var e=this.props,t=e.showUploadButton,n=e.showGifButton;return e.showReplyToButton?a.a.createElement(q.a,{onClick:this.handleComposerClick}):a.a.createElement(W.c,{className:"intercom-note-composer",onClick:this.handleComposerClick,"aria-label":Object(l.d)("open_conversation_and_reply")},a.a.createElement(f.f,null,Object(l.d)("reply_to_conversation")),a.a.createElement(f.a,null,n?a.a.createElement(f.e,null,a.a.createElement(D.a,null)):null,a.a.createElement(f.c,null,a.a.createElement(d.a,null)),t?a.a.createElement(f.j,null,a.a.createElement(u.a,null)):null))},r.renderReactionPicker=function(){var e=this.props,t=e.reactionsReply,n=e.onReactionSelect;return a.a.createElement(H.a,L({},t,{onReactionSelect:n}))},r.render=function(){var e=this,t=this.props,n=t.appName,o=t.message,r=t.reactionsReply,i=t.onClose,s=t.frameWindow,c=t.showReplyToButton,p=this.state,u=p.isScrolled,d=p.isFooterVisible,h=o.author,m=o.lastActiveAt,f=o.body;return a.a.createElement(W.e,{className:"intercom-note",isScrolled:u},a.a.createElement(A.a,{appName:n,isReplyStyle:!1,author:h,lastActiveAt:m},a.a.createElement(W.b,{className:"intercom-anchor",onClick:i,"aria-label":Object(l.d)("close")}," "),a.a.createElement(W.a,{showReplyToButton:c},a.a.createElement(B.a,{onScroll:this.handleScroll,onScrollable:this.handleScrollable},a.a.createElement(M.a,{blocks:f,zoomable:!0,frameWindow:s}))),a.a.createElement(W.d,{ref:function(t){return e.footer=t},isFooterVisible:d,showReplyToButton:c},r?this.renderReactionPicker():this.renderFooter())))},o}(i.Component);Y.propTypes={appName:r.a.string.isRequired,message:r.a.shape({id:r.a.string.isRequired,author:r.a.object.isRequired,body:r.a.array.isRequired,lastActiveAt:r.a.instanceOf(Date)}).isRequired,conversationId:r.a.string,reactionsReply:r.a.shape({reactionIndex:r.a.number,reactionSet:r.a.array.isRequired}),onClose:r.a.func,onComposerClick:r.a.func,onReactionSelect:r.a.func,frameWindow:r.a.object,showUploadButton:r.a.bool,showGifButton:r.a.bool,showReplyToButton:r.a.bool},Y.defaultProps={showUploadButton:!0,showGifButton:!0};var X={name:"fnfiys",styles:"right:0;left:0;margin:0 auto;"},K=Object(m.c)(R.a,{target:"e1o2sc8n0"})("position:fixed;bottom:",Object(P.j)(),"px;right:",Object(m.f)("horizontalPaddingPx"),"px;width:342px;z-index:",Object(P.m)(1),";box-shadow:0 3px 32px 0 rgba(0,0,0,0.14);",(function(e){var t=e.theme;return t.isLeftAlign&&Object(m.b)("left:",t.horizontalPaddingPx,"px;right:auto;")})," ",(function(e){return e.theme.isMobileSize&&X}));function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Q(J(t=e.call.apply(e,[this].concat(o))||this),"state",{height:0}),Q(J(t),"handleHeightChange",(function(e){var n=e.height;t.setState({height:n})})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.render=function(){var e=this,t=this.props,n=t.conversationId,o=t.appName,r=t.message,i=t.reactionsReply,s=t.showUploadButton,c=t.showGifButton,p=t.onComposerClick,u=t.onReactionSelect,d=t.showReplyToButton,h=t.onClose,m=this.state.height;return a.a.createElement(K,{style:{height:m},frameName:"intercom-note-frame",title:"Intercom live chat "+Object(l.d)("message")},(function(t){return a.a.createElement("span",null,a.a.createElement(E.a,{id:"note-frame",key:"note-frame",onChange:e.handleHeightChange},a.a.createElement(Y,{frameWindow:t,conversationId:n,appName:o,message:r,reactionsReply:i,showUploadButton:s,showGifButton:c,onClose:h,onComposerClick:p,onReactionSelect:u,showReplyToButton:d})),a.a.createElement(I.a,{appWindow:t}))}))},o}(i.Component),Z=n(1047);function ee(){return a.a.createElement(Z.a,{focusable:"false","aria-hidden":"true",width:"16",height:"16",viewBox:"0 0 16 16"},a.a.createElement("path",{d:"M7.357 1.071c.34-.035.679-.071.982-.071 3 0 6.304 2.054 6.625 5.59.018.214.036.428.036.642 0 3.054-2.518 6.179-6.357 6.697A6.958 6.958 0 0 1 7.75 14c-.357 0-.357 0-.75-.071-.91 1.178-1.982 1.482-3.16 1.696a3.184 3.184 0 0 1-.536.054c-.304 0-.733-.143-.536-.34.928-.785 1.036-1.303 1.036-2.214 0-.09 0-.179-.018-.268-1.625-1.107-2.536-2.571-2.75-4.446A7.753 7.753 0 0 1 1 7.768C1 4.714 3.518 1.589 7.357 1.07z"}))}var te=n(956);function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return re(oe(t=e.call.apply(e,[this].concat(o))||this),"node",void 0),re(oe(t),"state",{isFooterVisible:!0,isScrolled:!1}),re(oe(t),"footer",void 0),re(oe(t),"handleScroll",(function(e){var n=t.state.isFooterVisible,o=Object(F.l)(e.target);t.setState({isFooterVisible:n||o<=t.getFooterHeight(),isScrolled:e.target.scrollTop>0})})),re(oe(t),"handleScrollable",(function(e){var n=e.scrollHeight-e.clientHeight,o=t.state.isFooterVisible||void 0===t.props.reactionsReply||n<=t.getReactionsVisibilityThreshold();t.setState({isFooterVisible:o})})),re(oe(t),"isReplyDisabled",(function(){return"disabled"===t.props.message.replyType})),re(oe(t),"addClickedComposerMetric",(function(){var e=t.props,n=e.message.id,o=e.conversationId;Object(V.e)("clicked","composer","in_app","from_full",{message_type:"pointer",message_id:n,conversation_id:o})})),re(oe(t),"handleComposerClick",(function(){t.addClickedComposerMetric(),t.props.onComposerClick()})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.getReactionsVisibilityThreshold=function(){return this.getFooterHeight()+20},r.getFooterHeight=function(){return this.footer?this.footer.clientHeight:0},r.renderFooter=function(e){var t=this;return this.isReplyDisabled()?null:a.a.createElement(te.d,{ref:function(e){return t.footer=e},isFooterVisible:this.state.isFooterVisible},e?this.renderReactionPicker():this.renderChatComposer())},r.renderChatComposer=function(){return a.a.createElement(te.c,{className:"intercom-pointer-composer",onClick:this.handleComposerClick},a.a.createElement("span",null,a.a.createElement(ee,null)),a.a.createElement(f.f,null,Object(l.d)("start_a_conversation")))},r.renderReactionPicker=function(){var e=this.props,t=e.reactionsReply,n=e.onReactionSelect;return a.a.createElement(H.a,ne({},t,{onReactionSelect:n}))},r.render=function(){var e=this,t=this.props,n=t.appName,o=t.message,r=t.reactionsReply,i=t.onClose,s=t.frameWindow,c=o.author,p=o.lastActiveAt,u=o.body;return a.a.createElement(te.e,{isInbox:!1,isScrolled:this.state.isScrolled,ref:function(t){return e.node=t},className:"intercom-pointer"},a.a.createElement(A.a,{appName:n,isReplyStyle:!1,author:c,lastActiveAt:p},a.a.createElement(te.b,{onClick:i,"aria-label":Object(l.d)("close")}," "),a.a.createElement(te.a,{intercomRepliesDisabled:this.isReplyDisabled()},a.a.createElement(B.a,{onScroll:this.handleScroll,onScrollable:this.handleScrollable},a.a.createElement(M.a,{blocks:u,zoomable:!0,frameWindow:s}))),this.renderFooter(r)))},o}(i.Component),ae=n(1075),se=Object(m.c)(R.a,{target:"e1lu8yo70"})("z-index:",Object(P.m)(1),";border-radius:5px;box-shadow:0 3px 32px 0 rgba(0,0,0,0.14);border:1px solid rgba(0,0,0,0.1);");function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return le(ce(t=e.call.apply(e,[this].concat(o))||this),"state",{width:0,height:0}),le(ce(t),"handleDimensionFrameSize",(function(e){var n=e.height,o=e.width;t.setState({width:o,height:n})})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.frameStyles=function(){var e=this.state;return{width:e.width,height:e.height,opacity:1}},r.render=function(){var e=this,t=this.props,n=t.appName,o=t.appWindow,r=t.message,i=t.conversationId,s=t.onClose,c=t.reactionsReply,p=t.onComposerClick,u=t.onReactionSelect;return a.a.createElement(ae.a,{appWindow:o,targetSelector:r.pointerSelector,childDimensions:this.frameStyles()},a.a.createElement(se,{style:this.frameStyles(),frameName:"intercom-pointer-frame",title:"Intercom live chat "+Object(l.d)("pointer")},(function(){return a.a.createElement(E.a,{id:"pointer-frame",key:"pointer-frame",onChange:e.handleDimensionFrameSize},a.a.createElement(ie,{appName:n,message:r,conversationId:i,reactionsReply:c,frameWindow:o,onComposerClick:p,onReactionSelect:u,onClose:s}))})))},o}(i.PureComponent),ue=n(1058),de=n(152),he=n(1074),me=n(1016),fe=n.n(me),ge=n(1017),be=n.n(ge),ve={name:"siiwv4",styles:"&:hover .story-dismiss-button{opacity:1;}"},ye=Object(m.c)("div",{target:"e18fd67o0"})("z-index:",Object(P.m)(1),";font-size:13px;font-family:",Object(m.f)("fontSansSerif"),";color:",Object(m.f)("bodyText"),";position:relative;",(function(e){var t=e.theme;return e.standalone&&Object(m.b)("position:fixed;bottom:",t.verticalPaddingPx,"px;right:",t.horizontalPaddingPx,"px;")})," ",(function(e){return e.isVideoLoaded&&ve})," ",(function(e){var t=e.theme;return t.isLauncherEnabled&&Object(m.b)("bottom:",t.verticalPaddingPx+t.launcherOffsetBottomPaddingPx,"px;")})),Oe={name:"1c9b7w0",styles:"width:240px;height:180px;margin-left:10px;"},Ce={name:"dxx3wj",styles:"margin-top:42px;"},we={name:"ajzub1",styles:"margin-top:54px;"},Se=Object(m.c)("div",{target:"e18fd67o1"})("position:relative;overflow:hidden;box-shadow:0px 2px 16px rgba(0,0,0,0.14),0px 1px 6px rgba(0,0,0,0.06);border-radius:5px;transition:transform 150ms ease,width 200ms ease,height 200ms ease,margin 200ms;transform-origin:bottom right;width:340px;height:255px;",(function(e){return e.standalone&&we})," ",(function(e){var t=e.standalone,n=e.isExpanded;return t&&n&&Ce})," ",(function(e){return e.theme.isMobileSize&&Oe})),xe=Object(m.c)("div",{target:"e18fd67o2"})("position:absolute;top:0;/* @noflip */ right:0;display:block;opacity:0;transition:opacity 150ms ease;span{display:block;background-color:#5d6c80;opacity:0.8;color:",Object(m.f)("white"),";font-size:13px;height:32px;line-height:32px;padding:0 16px 0 16px;border-radius:16px;cursor:pointer;background-position:center;",Object(P.b)(fe.a,be.a,"8px","8px"),";&:hover{opacity:1;}}"),je=Object(m.c)("div",{target:"e18fd67o3"})("position:absolute;width:100%;z-index:",Object(P.m)(1),";top:0;left:0;right:0;bottom:0;cursor:pointer;"),ke=Object(m.c)("div",{target:"e18fd67o4"})({name:"maq7xh",styles:".chat-composer{margin-top:10px;}&.video-composer-enter{.chat-composer{display:block;height:0;opacity:0;overflow:hidden;padding-top:0;padding-bottom:0;margin-top:0;}.composer-placeholder,.composer-buttons{opacity:0;transition:opacity 200ms ease;transition-delay:200ms;}}&.video-composer-enter-active{.chat-composer{opacity:1;height:52px;padding-top:17px;padding-bottom:17px;transition-property:height,opacity,padding,margin;transition-duration:200ms;transition-timing-function:ease;margin-top:10px;}.composer-placeholder,.composer-buttons{opacity:1;}}"}),Ee=n(1029);function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Pe(Re(t=e.call.apply(e,[this].concat(o))||this),"video",void 0),Pe(Re(t),"state",{isExpanded:!1,isVideoLoaded:!1}),Pe(Re(t),"handleOverlayClick",(function(){t.state.isVideoLoaded&&t.setState({isExpanded:!0})})),Pe(Re(t),"handleVideoLoaded",(function(){t.setState({isVideoLoaded:!0})})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.renderDismissButton=function(){return this.props.standalone?a.a.createElement(xe,{className:"story-dismiss-button",onClick:this.props.onClose},a.a.createElement("span",null)):null},r.renderOverlay=function(){return this.state.isExpanded?null:a.a.createElement(je,{className:"story-overlay",onClick:this.handleOverlayClick})},r.renderComposer=function(){var e=this.props,t=e.part,n=e.onComposerOrFormInputClick,o=t.author.firstName;return a.a.createElement(de.CSSTransition,{classNames:"video-composer",timeout:{enter:400,exit:400}},a.a.createElement(ke,null,a.a.createElement(b,{className:"chat-composer",onClick:n,"aria-label":Object(l.d)("open_conversation_and_reply"),useBorderlessAvatarOffset:!1},a.a.createElement(v,{className:"composer-placeholder"},Object(l.d)("reply_to_name",{name:o})),a.a.createElement(y,{className:"composer-buttons"},a.a.createElement(O,null,a.a.createElement(d.a,null)),a.a.createElement(O,null,a.a.createElement(u.a,null))))))},r.renderSuggestions=function(){var e=this.props,t=e.onSuggestionClicked,n=e.setComposerSuggestionsDismissed,o=e.conversationSuggestions,r=e.conversation;return a.a.createElement(Ee.a,{conversation:r,conversationSuggestions:o,setComposerSuggestionsDismissed:n,onClick:t})},r.renderResponseArea=function(){return this.state.isExpanded&&this.props.showResponseArea?this.props.conversationSuggestions?this.renderSuggestions():this.renderComposer():null},r.render=function(){var e=this.props,t=e.part.body,n=e.autoPlay,o=e.standalone,r=this.state,i=r.isExpanded,s=r.isVideoLoaded,c=t[0],l=c.url,p=c.captions,u=c.thumbnailUrl;return a.a.createElement(ye,{standalone:o,isVideoLoaded:s},this.renderDismissButton(),a.a.createElement(Se,{standalone:o,isExpanded:i},this.renderOverlay(),a.a.createElement(he.a,{srcUrl:l,autoPlay:n,onVideoLoaded:this.handleVideoLoaded,captions:p,thumbnailUrl:u})),a.a.createElement(de.TransitionGroup,null,this.renderResponseArea()))},o}(i.Component);Pe(_e,"defaultProps",{standalone:!1,onClose:function(){},showResponseArea:!0,autoPlay:!1});var Te=Object(m.c)(R.a,{target:"elkwj510"})("z-index:",Object(P.m)(),";position:fixed;right:0;bottom:0;width:100vw;height:100vh;");function Ie(e){var t=e.conversation,n=e.standalone,o=e.part,r=e.onClose,i=e.onComposerOrFormInputClick,s=e.conversationSuggestions,c=e.onSuggestionClicked,l=e.setComposerSuggestionsDismissed;return a.a.createElement(Te,{frameName:"intercom-story-frame"},(function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(_e,{conversation:t,standalone:n,part:o,onClose:r,onComposerOrFormInputClick:i,conversationSuggestions:s,onSuggestionClicked:c,setComposerSuggestionsDismissed:l}),a.a.createElement(I.a,{appWindow:e}))}))}var Ne=n(54),Be=n(16),Me=n(1071),Ae=n(1073),He=n(25),Fe=Object(m.c)("div",{target:"e19nv0ic0"})({name:"vavd1c",styles:"padding-top:0;/* @noflip */ padding-left:45px;"});function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Ve(qe(t=e.call.apply(e,[this].concat(o))||this),"ref",void 0),Ve(qe(t),"setRef",(function(e){t.ref=e})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){Object(He.o)(this.props.conversation)&&this.handleShow()},r.componentDidUpdate=function(e){!Object(He.o)(e.conversation)&&Object(He.o)(this.props.conversation)?this.handleShow():Object(He.o)(e.conversation)&&!Object(He.o)(this.props.conversation)&&this.handleHide()},r.handleShow=function(){this.props.handleComposerResize(this.getHeight())},r.handleHide=function(){this.props.onHide()},r.getHeight=function(){return this.ref?this.ref.clientHeight:0},r.render=function(){var e=this.props,t=e.conversation,n=e.handleComposerResize,o=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["conversation","handleComposerResize"]);return Object(He.o)(t)?a.a.createElement(Fe,{ref:this.setRef},a.a.createElement(Ae.a,De({isBorderless:!0,conversation:t,onHeightChange:n},o))):null},o}(i.PureComponent),ze=n(1065),Le=n(575),Ue={name:"1xzanuf",styles:"margin-right:0;"},Ge={name:"1v8x7dw",styles:"overflow:auto;"},Ye=Object(m.c)("div",{target:"e1my0o560"})("overflow-anchor:none;max-height:100%;padding-top:10px;padding-right:10px;margin-right:-10px;",(function(e){var t=e.theme,n=e.privilegeSeparationMaxHeight;return t.privilegeSeparationEnabled&&Object(m.b)("max-height:",n,"px;")})," ",(function(e){return e.enabledScroll&&Ge})," ",(function(e){var t=e.enabledScroll,n=e.visibleScrollbars;return t&&n&&Ue})),Xe=Object(m.c)("div",{target:"e1my0o561"})({name:"l57rop",styles:"padding-bottom:10px;"}),Ke=n(137);function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Qe(Je(t=e.call.apply(e,[this].concat(o))||this),"isPartBeingAddedTimeout",void 0),Qe(Je(t),"borderlessBodyNode",void 0),Qe(Je(t),"visibleScrollbarsInOs",0!==Object(Le.a)()),Qe(Je(t),"state",{isPartBeingAdded:!1,bottomScrollOffset:0,frameOffsetTop:t.props.frameNode.offsetTop,adminWasTyping:!1,height:0}),Qe(Je(t),"recalculateOffsets",(function(){t.setState({frameOffsetTop:t.props.frameNode.offsetTop},(function(){return Object(F.z)(t.borderlessBodyNode)}))})),Qe(Je(t),"handleScroll",(function(e){t.state.isPartBeingAdded||(t.setState({bottomScrollOffset:Object(F.f)(t.borderlessBodyNode)}),Object(z.a)(e))})),Qe(Je(t),"getPrivilegeSeparationMaxHeight",(function(){var e=t.context.pageHeight-t.context.verticalPaddingPx+t.context.borderlessIframePaddingPx-t.context.borderlessComposerHeightPx-20;return t.context.isLauncherEnabled&&(e-=t.context.launcherOffsetBottomPaddingPx),e})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){Object(F.c)(window.parent,"resize",this.recalculateOffsets)},r.componentDidUpdate=function(e){var t=this,n=this.state.frameOffsetTop,o=this.props,r=o.conversation,i=o.frameNode,a=e.conversation,s=r.parts.length!==a.parts.length,c=Object(ze.h)(r);(s||c&&!this.state.adminWasTyping)&&(Object(F.z)(this.borderlessBodyNode),this.setState({isPartBeingAdded:!0,bottomScrollOffset:0}),clearTimeout(this.isPartBeingAddedTimeout),this.isPartBeingAddedTimeout=setTimeout((function(){t.setState({isPartBeingAdded:!1}),Object(F.z)(t.borderlessBodyNode)}),300)),i.offsetTop!==n&&this.setState({frameOffsetTop:i.offsetTop},(function(){t.setState({bottomScrollOffset:Object(F.f)(t.borderlessBodyNode)})})),c!==this.state.adminWasTyping&&this.setState({adminWasTyping:c}),this.borderlessBodyNode&&this.borderlessBodyNode.clientHeight!==this.state.height&&this.setState({height:this.borderlessBodyNode.clientHeight})},r.componentWillUnmount=function(){clearTimeout(this.isPartBeingAddedTimeout),Object(F.y)(window.parent,"resize",this.recalculateOffsets)},r.getStyle=function(){var e=this.props,t=e.borderlessNode,n=e.composerHeight,o=t&&t.clientHeight,r=this.state.frameOffsetTop;if(o&&!r){var i=o/100,a=100-10/i,s="linear-gradient(to bottom, rgb(0, 0, 0), rgb(0, 0, 0) "+(100-76/i)+"%, rgba(0, 0, 0, "+Math.max(1-this.state.bottomScrollOffset/100*5,0)+") "+a+"%)";return{maxHeight:o-n-20+"px",WebkitMaskImage:s,MaskImage:s}}},r.render=function(){var e=this,t=this.getPrivilegeSeparationMaxHeight(),n=0===this.state.frameOffsetTop||this.context.privilegeSeparationEnabled&&this.state.height>t;return a.a.createElement(Ye,{style:this.getStyle(),ref:function(t){return e.borderlessBodyNode=t},onScroll:this.handleScroll,enabledScroll:n,visibleScrollbars:this.visibleScrollbarsInOs,privilegeSeparationMaxHeight:t},this.props.children())},o}(i.Component);Qe($e,"contextType",Ke.ThemeContext);var Ze=n(1081),et=n(824),tt=n(180),nt=n(1025),ot=n(1061),rt=n(1063),it=n(977),at=Object(m.d)("0%{opacity:0;}50%{opacity:0;}100%{opacity:1;}"),st={name:"1lh3dwn",styles:"opacity:1;transform:translateY(0);"},ct=function(e){var t=e.theme;return(Object(m.b)("transform:translateY(4px);opacity:0;transition:all 120ms ease-out 80ms;span{display:block;background-color:#67788f;color:",t.white,";font-size:13px;height:32px;line-height:32px;padding:0 8px;border-radius:16px;cursor:pointer;background-position:center;&:hover{background-color:darken(#67788f,5%);}}",lt.className,":hover &{",st,"}"))},lt=Object(m.c)("div",{target:"es6hgh10"})("z-index:",Object(P.m)(),";position:absolute;right:0;bottom:0;width:360px;max-height:100%;outline-offset:-5px;",(function(e){var t=e.theme;return t.privilegeSeparationEnabled&&Object(m.b)("max-height:",function(e){var t=e.theme,n=t.pageHeight-t.verticalPaddingPx+t.borderlessIframePaddingPx;return t.isLauncherEnabled&&(n-=t.launcherOffsetBottomPaddingPx),n}({theme:t}),"px;")})," ",(function(e){var t=e.theme;return e.hasComposer&&Object(m.b)("animation:",function(e){var t=e.theme;return(Object(m.d)("0%{transform:translateY(",t.borderlessComposerHeightPx,"px);}20%{transform:translateY(",t.borderlessComposerHeightPx,"px);}70%{transform:translateY(",t.borderlessComposerHeightPx,"px);}100%{transform:translateY(0);}"))}({theme:t})," 750ms ease;")})," ",it.i.className,",",ot.c.className,",",rt.a.className,"{position:absolute;bottom:21px;box-shadow:",Object(m.f)("notificationBoxShadow"),";border-radius:100%;}"),pt=Object(m.c)("div",{target:"es6hgh11"})("position:absolute;right:0;bottom:0;width:",Object(m.f)("borderlessConversationWidthPx"),"px;padding:10px;padding-top:50px;animation:",at," 500ms ease;",(function(e){var t=e.theme;return t.isLeftAlign&&Object(m.b)("width:",t.borderlessConversationWidthPx+t.borderlessAvatarOffsetWidthPx,"px;")})),ut=Object(m.c)("div",{target:"es6hgh12"})("z-index:",Object(P.m)(1),";position:absolute;top:0;width:",Object(m.f)("borderlessConversationWidthPx"),"px;height:40px;padding:0 10px;"),dt=Object(m.c)("div",{target:"es6hgh13"})({name:"ln0qgx",styles:"padding-top:10px;position:relative;/* @noflip */ margin-left:45px;text-align:center;"}),ht={name:"whh5e5",styles:"opacity:1;"},mt=Object(m.c)("div",{target:"es6hgh14"})(ct," position:absolute;top:10px;/* @noflip */ right:0;span{padding-right:16px;padding-left:16px;",Object(P.b)(fe.a,be.a,"8px","8px"),"}",(function(e){return e.theme.tabNavigation&&ht})),ft={name:"whh5e5",styles:"opacity:1;"},gt=Object(m.c)("div",{target:"es6hgh15"})(ct," display:inline-block;span{padding:0 20px;}",(function(e){return e.theme.tabNavigation&&ft}));function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return yt(vt(t=e.call.apply(e,[this].concat(o))||this),"state",{isEmojiPickerOpen:!1,isGifPickerOpen:!1,headerHeight:50,partsHeight:0,suggestionsHeight:0,composerHeight:0,replyToButtonHeight:0}),yt(vt(t),"handlePartsHeightChange",(function(e){t.setState({partsHeight:e},t.handleHeightChange)})),yt(vt(t),"setSuggestionsHeight",(function(e){t.setState({suggestionsHeight:e},t.handleHeightChange)})),yt(vt(t),"handleQuickRepliesHide",(function(){t.setState({suggestionsHeight:0},t.handleHeightChange)})),yt(vt(t),"handleComposerShow",(function(e){t.setState({composerHeight:e},t.handleHeightChange)})),yt(vt(t),"handleComposerHide",(function(){t.setState({composerHeight:0},t.handleHeightChange)})),yt(vt(t),"handleReplyToButtonShow",(function(e){t.setState({replyToButtonHeight:e},t.handleHeightChange)})),yt(vt(t),"handleClick",(function(){var e=t.state,n=e.isEmojiPickerOpen,o=e.isGifPickerOpen;n?t.setState({isEmojiPickerOpen:!1}):o&&t.setState({isGifPickerOpen:!1})})),yt(vt(t),"handleDismissClick",(function(e){e.stopPropagation(),t.addCloseMetric(),t.props.onClose();var n=Object(tt.f)();n&&n.focus()})),yt(vt(t),"handleEmojiPickerToggle",(function(){var e=!t.state.isEmojiPickerOpen;t.setState({isEmojiPickerOpen:e}),t.props.onPopoverToggle(e)})),yt(vt(t),"handleGifPickerToggle",(function(){var e=!t.state.isGifPickerOpen;t.setState({isGifPickerOpen:e}),t.props.onPopoverToggle(e)})),yt(vt(t),"handleViewMoreClick",(function(){t.addViewMoreMetric(),t.props.onViewMore()})),yt(vt(t),"handleHeightChange",(function(){t.props.onHeightChange(t.getHeight())})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){this.props.onOpen(),this.focusTrap=new et.a({document:this.props.frameWindow.document})},r.componentDidUpdate=function(e){var t=this.props.conversation;"all"===t.fetchState&&Object(He.a)(t)>Object(He.a)(e.conversation)&&this.addReplyMetric(t)},r.componentWillUnmount=function(){this.focusTrap&&this.focusTrap.restore()},r.getHeight=function(){var e=this.state;return e.headerHeight+e.partsHeight+e.composerHeight+e.suggestionsHeight+e.replyToButtonHeight+20},r.getStyle=function(){return{height:this.getHeight()}},r.hasComposer=function(){var e=this.props.conversation,t=e.parts,n=e.composerState;return"attribute_collector"===t[0].replyType||n.visible},r.shouldRenderHeader=function(){var e=this.state,t=e.isEmojiPickerOpen,n=e.isGifPickerOpen;return!(t||n)},r.addViewMoreMetric=function(){Object(V.e)("clicked","viewmore_button","borderless","",{conversation_id:this.props.conversation.id})},r.addReplyMetric=function(){var e=this.props.conversation,t=Object(He.d)(e);Object(V.e)("received","reply","borderless","",{conversation_id:e.id,part_id:t.id,part_type:"adminReply",reply_type:t.replyType})},r.addCloseMetric=function(){Object(V.e)("closed","borderless","borderless","from_close_button",{conversation_id:this.props.conversation.id})},r.renderHeader=function(){return a.a.createElement(ut,null,a.a.createElement(dt,null,this.props.hasHistory?this.renderViewMoreButton():null,a.a.createElement(mt,{onClick:this.handleDismissClick,"aria-label":Object(l.d)("dismiss")},a.a.createElement("span",null))))},r.renderViewMoreButton=function(){return a.a.createElement(gt,{onClick:this.handleViewMoreClick},a.a.createElement("span",null,Object(l.d)("view_more")))},r.renderParts=function(){var e=this.props,t=e.appName,n=e.userRole,o=e.conversation,r=e.onArticleCardClick,i=e.onReactionSelect,s=e.onRetry,c=e.frameWindow,l=e.conversationSuggestions,p=this.state,u=p.isEmojiPickerOpen,d=p.isGifPickerOpen;return a.a.createElement(Me.a,{isBorderless:!0,isFaded:u||d,maxHeight:0,appName:t,userRole:n,conversation:o,frameWindow:c,onArticleCardClick:r,onHeightChange:this.handlePartsHeightChange,onReactionSelect:i,onRetry:s,conversationSuggestions:l})},r.renderSuggestions=function(){var e=this.props,t=e.onSuggestionClicked,n=e.setComposerSuggestionsDismissed,o=e.conversationSuggestions,r=e.typeAheadSuggestions,i={conversation:e.conversation,setComposerSuggestionsDismissed:n,onClick:t,isBorderless:!0};return a.a.createElement(E.a,{onHeightChange:this.setSuggestionsHeight},a.a.createElement("div",null,a.a.createElement(nt.a,{errorText:"Something went wrong loading the suggestions",align:"center",style:{marginBottom:"10px"}},a.a.createElement(Ee.a,bt({},i,{conversationSuggestions:o})),a.a.createElement(Ee.a,bt({},i,{conversationSuggestions:r})))))},r.renderFooter=function(){var e=this.state,t=e.isEmojiPickerOpen,n=e.isGifPickerOpen,o=this.props,r=o.showReplyToButton,i=o.onComposerClick,s=o.conversation,c=o.frameWindow;return r&&Object(He.o)(this.props.conversation)?a.a.createElement(q.a,{isBorderless:!0,onShow:this.handleReplyToButtonShow,onClick:i}):a.a.createElement(We,{conversation:s,showEmojiPicker:t,showGifPicker:n,handleComposerResize:this.handleComposerShow,onHide:this.handleComposerHide,onEmojiPickerToggle:this.handleEmojiPickerToggle,onGifPickerToggle:this.handleGifPickerToggle,frameWindow:c})},r.render=function(){var e=this,t=this.props,n=t.conversation,o=t.frameNode,r=this.state.composerHeight;return a.a.createElement(lt,{className:"intercom-borderless",style:this.getStyle(),onClick:this.handleClick,tabIndex:"-1",role:"region",ref:function(t){return e.borderlessNode=t},hasComposer:this.hasComposer()},this.shouldRenderHeader()?this.renderHeader():null,a.a.createElement(pt,null,a.a.createElement($e,{conversation:n,composerHeight:r,borderlessNode:this.borderlessNode,frameNode:o},(function(){return a.a.createElement(Xe,null,e.renderParts(),e.renderSuggestions())})),this.renderFooter()),a.a.createElement(I.a,{appWindow:this.props.frameWindow}))},o}(i.Component);Ot.propTypes={conversation:r.a.shape({id:r.a.string.isRequired,fetchState:r.a.oneOf(["summary","partial","all"]),parts:r.a.arrayOf(r.a.shape({id:r.a.string,replyType:r.a.oneOf(["text","attribute_collector"])})).isRequired,composerState:r.a.shape({visible:r.a.bool.isRequired}).isRequired}),conversationSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),typeAheadSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),onSuggestionClicked:r.a.func,setComposerSuggestionsDismissed:r.a.func,appName:r.a.string.isRequired,userRole:r.a.string.isRequired,hasHistory:r.a.bool,alignment:r.a.string,onOpen:r.a.func.isRequired,onHeightChange:r.a.func.isRequired,onPopoverToggle:r.a.func.isRequired,onArticleCardClick:r.a.func.isRequired,onReactionSelect:r.a.func.isRequired,onRetry:r.a.func.isRequired,onViewMore:r.a.func.isRequired,onClose:r.a.func.isRequired,onComposerClick:r.a.func.isRequired,frameWindow:r.a.any.isRequired,showReplyToButton:r.a.bool,part:r.a.object,frameNode:r.a.object.isRequired};var Ct=Object(Ze.a)(Ot),wt=n(52),St=n(1031);var xt=n(754),jt=n(20),kt=Object(Ne.connect)((function(e,t){var n=e.app.name,o=e.user.role,r=t.part,i=t.conversation,a=Object(xt.a)(e).alignment,s=i.parts.filter((function(e){return e.createdAt>=r.createdAt})),c=s[0].messageType;c=c||"adminReply",s[0]=Object.assign({},s[0],{messageType:c});var l=s.length<i.parts.length;return{appName:n,userRole:o,conversation:Object.assign({},i,{parts:s}),hasHistory:l,alignment:a}}),(function(e){return{onOpen:function(t){e(function(e){return{type:"OPEN_BORDERLESS_CONVERSATION",conversationId:e}}(t))},onRetry:function(t,n){e(Object(jt.p)(Be.b,t,n))},onReactionSelect:function(t,n){e(Object(jt.k)(Be.b,t,n,!1))},onArticleCardClick:function(t,n){return e(Object(St.c)(Be.b,t,n))},onViewMore:function(t){e(Object(wt.g)(t))}}}),(function(e,t,n){var o=e.conversation,r=o.id,i={onOpen:function(){t.onOpen(r)},onReactionSelect:function(e){t.onReactionSelect(r,e)},onRetry:function(e){t.onRetry(o,e)},onViewMore:function(){t.onViewMore(r)},conversation:o};return Object.assign({},e,t,n,i)}))(Ct),Et=function(e){var t=e.theme,n=-t.verticalPaddingPx+t.borderlessIframePaddingPx;return t.isLauncherEnabled&&(n-=t.launcherOffsetBottomPaddingPx),t.privilegeSeparationEnabled?Object(m.b)("max-height:",t.pageHeight+n,"px;"):Object(m.b)("max-height:calc(100% + ",n,"px);")},Rt={name:"n7pinj",styles:"min-height:350px;"},Pt=Object(m.c)(R.a,{target:"eqgwjwo0"})("z-index:",Object(P.m)(),";position:fixed;width:360px;",Et,";",(function(e){var t=e.theme;return(Object(m.b)("bottom:",t.verticalPaddingPx-t.borderlessIframePaddingPx,"px;right:",t.horizontalPaddingPx-t.borderlessIframePaddingPx,"px;"))})," ",(function(e){return e.isPopoverOpen&&Rt})," ",(function(e){var t=e.theme;return t.isLeftAlign&&Object(m.b)("left:",t.borderlessIframePaddingPx+t.horizontalPaddingPx-t.borderlessIframePaddingLeftPx+t.borderlessAvatarOffsetWidthPx,"px;right:auto;")})," ",(function(e){var t=e.theme;return t.isLauncherEnabled&&Object(m.b)("bottom:",t.verticalPaddingPx+t.launcherOffsetBottomPaddingPx-t.borderlessIframePaddingPx,"px;")}));function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var It=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Tt(_t(t=e.call.apply(e,[this].concat(o))||this),"state",{height:0,isPopoverOpen:!1}),Tt(_t(t),"handleHeightChange",(function(e){t.setState({height:e})})),Tt(_t(t),"handlePopoverToggle",(function(e){t.setState({isPopoverOpen:e})})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.render=function(){var e=this,t=this.props,n=t.conversation,o=t.part,r=t.onClose,i=t.onComposerClick,s=t.showReplyToButton,c=t.conversationSuggestions,p=t.typeAheadSuggestions,u=t.onSuggestionClicked,d=t.setComposerSuggestionsDismissed,h=this.state,m=h.isPopoverOpen,f=h.height;return a.a.createElement(Pt,{style:{height:f},className:"intercom-borderless-frame",frameName:"intercom-borderless-frame",title:"Intercom live chat "+Object(l.d)("message"),isPopoverOpen:m},(function(t,l){return a.a.createElement(kt,{conversation:n,conversationSuggestions:c,typeAheadSuggestions:p,onSuggestionClicked:u,setComposerSuggestionsDismissed:d,part:o,frameWindow:t,onClose:r,onHeightChange:e.handleHeightChange,onPopoverToggle:e.handlePopoverToggle,onComposerClick:i,showReplyToButton:s,frameNode:l})}))},o}(i.Component);function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}It.propTypes={conversation:r.a.object.isRequired,conversationSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),typeAheadSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),onSuggestionClicked:r.a.func,setComposerSuggestionsDismissed:r.a.func,part:r.a.object.isRequired,onClose:r.a.func.isRequired,onComposerClick:r.a.func,showReplyToButton:r.a.bool},n.d(t,"a",(function(){return Mt}));var Mt=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Bt(Nt(t=e.call.apply(e,[this].concat(o))||this),"addMessageMetric",(function(e){var n=t.props,o=n.conversation,r=n.part,i=r.id,a=r.messageType;Object(V.e)(e,"message","in_app","from_full",{conversation_id:o.id,message_id:i,message_type:a})})),Bt(Nt(t),"handleDismissClick",(function(){t.addMessageMetric("closed"),t.props.onClose()})),Bt(Nt(t),"handleComposerSuggestionClicked",(function(e){var n=t.props,o=n.conversation,r=n.onSuggestionClicked;r&&r(o,e)})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var e=this.props,t=e.conversation,n=e.userIsPresent,o=e.onOpen,r=e.onConversationRead;o(),!t.read&&n&&r(),this.addMessageMetric("received")},r.componentDidUpdate=function(){var e=this.props,t=e.userIsPresent,n=e.conversation;t&&!n.read&&this.props.onConversationRead()},r.render=function(){var e=this.props,t=e.appWindow,n=e.conversation,o=e.part,r=e.appName,i=e.isMobile,s=e.onComposerOrFormInputClick,c=e.onReactionSelect,l=e.showUploadButton,p=e.showGifButton,u=e.shouldShowUpfrontEmailComposer,d=e.onSuggestionClicked,h=e.setComposerSuggestionsDismissed,m=e.conversationSuggestions,f=e.typeAheadSuggestions,g=o.messageType,b=o.reactionsReply;switch(g){case"adminReply":case"link":case"messengerCard":case"notificationChannels":case"attributeCollector":case"conversationRating":case"chat":return i?a.a.createElement(N,{appName:r,part:o,onClose:this.handleDismissClick,composerState:n.composerState,onComposerOrFormInputClick:s}):a.a.createElement(It,{conversation:n,conversationSuggestions:m,typeAheadSuggestions:f,onSuggestionClicked:d,setComposerSuggestionsDismissed:h,part:o,onClose:this.handleDismissClick,showReplyToButton:u,onComposerClick:s});case"video":return a.a.createElement(Ie,{conversation:n,conversationSuggestions:m,onSuggestionClicked:d,setComposerSuggestionsDismissed:h,standalone:!0,part:o,onClose:this.handleDismissClick,onComposerOrFormInputClick:s});case"note":return a.a.createElement($,{conversationId:n.id,appName:r,message:o,reactionsReply:b,showUploadButton:l,showGifButton:p,onClose:this.handleDismissClick,onComposerClick:s,onReactionSelect:c,showReplyToButton:u});case"post":return a.a.createElement(ue.a,{conversationId:n.id,appName:r,message:o,reactionsReply:b,onClose:this.handleDismissClick,onComposerClick:s,onReactionSelect:c,showReplyToButton:u});case"pointer":return a.a.createElement(pe,{appWindow:t,appName:r,message:o,conversationId:n.id,reactionsReply:b,onComposerClick:s,onReactionSelect:c,onClose:this.handleDismissClick})}},o}(i.Component);Mt.propTypes={appWindow:r.a.object,conversation:r.a.shape({id:r.a.string.isRequired,read:r.a.bool.isRequired,composerState:r.a.shape({visible:r.a.bool.isRequired}).isRequired}).isRequired,conversationSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),typeAheadSuggestions:r.a.shape({prompt:r.a.any,suggestions:r.a.arrayOf(r.a.shape({uuid:r.a.string.isRequired,text:r.a.string.isRequired,preAction:r.a.string}))}),onSuggestionClicked:r.a.func,setComposerSuggestionsDismissed:r.a.func,part:r.a.shape({id:r.a.string,messageType:r.a.string,reactionsReply:r.a.shape({reactionIndex:r.a.number,reactionSet:r.a.array.isRequired})}).isRequired,appName:r.a.string.isRequired,isMobile:r.a.bool.isRequired,userIsPresent:r.a.bool.isRequired,onConversationRead:r.a.func.isRequired,onOpen:r.a.func.isRequired,onClose:r.a.func.isRequired,onComposerOrFormInputClick:r.a.func.isRequired,onReactionSelect:r.a.func.isRequired,showUploadButton:r.a.bool,showGifButton:r.a.bool,shouldShowUpfrontEmailComposer:r.a.bool}},1075:function(e,t,n){"use strict";var o=n(133),r=n.n(o),i=n(197),a=n.n(i),s=n(0),c=n.n(s),l=n(1125),p=n.n(l),u=n(115),d=n.n(u);function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return m(h(t=e.call.apply(e,[this].concat(o))||this),"document",t.props.appWindow.document),m(h(t),"state",{container:null}),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var e=this.props.appWindow,t=e.document.querySelector("#intercom-container");if(e.document.body){var n=e.document.createElement("div");n.id="intercom-positioner-tree",n.classList.add("intercom-namespace"),n.style.cssText="position: initial; !important; z-index: 2147483647 !important;",t.insertAdjacentElement("beforeBegin",n),this.setState({container:n})}},r.componentWillUnmount=function(){var e=this.state.container;if(e){var t=e.parentNode;t&&t.removeChild(e)}},r.render=function(){return this.state.container?d.a.createPortal(this.props.children,this.state.container):null},o}(s.Component),g=n(26),b=n(18),v=function(e){if(!e.IntercomIntersectionObserver){var t=e.document;if(!b.a.isFirefox()&&"IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype&&"isIntersecting"in e.IntersectionObserverEntry.prototype)return e.IntercomIntersectionObserver=e.IntersectionObserver,e.IntercomIntersectionObserverEntry=e.IntersectionObserverEntry,!0;var n=[];r.prototype.THROTTLE_TIMEOUT=100,r.prototype.POLL_INTERVAL=null,r.prototype.USE_MUTATION_OBSERVER=!0,r.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},r.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},r.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},r.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},r.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},r.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},r.prototype._monitorIntersections=function(){var n=this;this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(i(e,"resize",this._checkForIntersections,!0),this._observationTargets.forEach((function(e){n._monitorScrollForElement(e)})),this.USE_MUTATION_OBSERVER&&"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},r.prototype._monitorScrollForElement=function(e){e!==t&&e&&(i(e,"scroll",this._checkForIntersections,!0),this._monitorScrollForElement(e.parent))},r.prototype._unmonitorScrollForElement=function(e){e!==t&&e&&(a(e,"scroll",this._checkForIntersections,!0),this._unmonitorScrollForElement(e.parent))},r.prototype._unmonitorIntersections=function(){var t=this;this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(e,"resize",this._checkForIntersections,!0),this._observationTargets.forEach((function(e){t._unmonitorScrollForElement(e)})),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},r.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=s(i),c=this._rootContainsTarget(i),l=r.entry,p=t&&c&&this._computeTargetAndRootIntersection(i,n),u=r.entry=new o({time:e.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:n,intersectionRect:p});l?t&&c?this._hasCrossedThreshold(l,u)&&this._queuedEntries.push(u):l&&l.isIntersecting&&this._queuedEntries.push(u):this._queuedEntries.push(u)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},r.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=e.getComputedStyle(n).display){for(var r,i,a,c,p,u,d,h,m=s(n),f=l(n),g=!1;!g;){var b=null,v=1==f.nodeType?e.getComputedStyle(f):{};if("none"==v.display)return;if(f==this.root||f==t?(g=!0,b=o):f!=t.body&&f!=t.documentElement&&"visible"!=v.overflow&&(b=s(f)),b&&(r=b,i=m,a=void 0,c=void 0,p=void 0,u=void 0,d=void 0,h=void 0,a=Math.max(r.top,i.top),c=Math.min(r.bottom,i.bottom),p=Math.max(r.left,i.left),u=Math.min(r.right,i.right),h=c-a,!(m=(d=u-p)>=0&&h>=0&&{top:a,bottom:c,left:p,right:u,width:d,height:h})))break;f=l(f)}return m}},r.prototype._getRootRect=function(){var e;if(this.root)e=s(this.root);else{var n=t.documentElement,o=t.body;e={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},r.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},r.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==o)for(var r=0;r<this.thresholds.length;r++){var i=this.thresholds[r];if(i==n||i==o||i<n!=i<o)return!0}},r.prototype._rootIsInDom=function(){return!this.root||c(t,this.root)},r.prototype._rootContainsTarget=function(e){return c(this.root||t,e)},r.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},r.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntercomIntersectionObserver=r,e.IntercomIntersectionObserverEntry=e.IntersectionObserverEntry}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,o=this.intersectionRect,r=o.width*o.height;this.intersectionRatio=n?r/n:this.isIntersecting?1:0}function r(e,t){var n,o,r,i=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),o=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){n(),r=null}),o))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function i(e,t,n,o){null!=e&&("function"==typeof e.addEventListener?e.addEventListener(t,n,o||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n))}function a(e,t,n,o){null!=e&&("function"==typeof e.removeEventListener?e.removeEventListener(t,n,o||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n))}function s(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(e,t){for(var n=t;n;){if(n==e)return!0;n=l(n)}return!1}function l(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}},y=function(e){var t=e,n=e.document,o=t.HTMLElement||t.Element,r={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy||t.intercomScrollBy,elementScroll:c,intercomScrollIntoView:o.prototype.intercomScrollIntoView},i=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now;var a,s=(a=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(a)?1:0);function c(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function p(e,t){return"Y"===t?e.clientHeight+s<e.scrollHeight:"X"===t?e.clientWidth+s<e.scrollWidth:void 0}function u(e,n){var o=t.getComputedStyle(e,null)["overflow"+n];return"auto"===o||"scroll"===o}function d(e){var t=p(e,"Y")&&u(e,"Y"),n=p(e,"X")&&u(e,"X");return t||n}function h(e){var t;do{t=(e=e.parentNode)===n.body}while(!1===t&&!1===d(e));return t=null,e}function m(e){var n,o,r,a,s=(i()-e.startTime)/800;a=s=s>1?1:s,n=.5*(1-Math.cos(Math.PI*a)),o=e.startX+(e.x-e.startX)*n,r=e.startY+(e.y-e.startY)*n,e.method.call(e.scrollable,o,r),o===e.x&&r===e.y||t.requestAnimationFrame(m.bind(t,e))}function f(e,o,a){var s,l,p,u,d=i();e===n.body?(s=t,l=t.scrollX||t.pageXOffset,p=t.scrollY||t.pageYOffset,u=r.scroll):(s=e,l=e.scrollLeft,p=e.scrollTop,u=c),m({scrollable:s,method:u,startTime:d,startX:l,startY:p,x:o,y:a})}t.intercomScrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?r.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):f.call(t,n.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},o.prototype.intercomScrollIntoView=function(){if(!0!==l(arguments[0])){var e=h(this),o=e.getBoundingClientRect(),i=this.getBoundingClientRect();e!==n.body?(f.call(this,e,e.scrollLeft+i.left-o.left,e.scrollTop+i.top-o.top),"fixed"!==t.getComputedStyle(e).position&&t.intercomScrollBy({left:o.left,top:o.top,behavior:"smooth"})):t.intercomScrollBy({left:i.left,top:i.top,behavior:"smooth"})}else r.intercomScrollIntoView.call(this,void 0===arguments[0]||arguments[0])}},O=n(1126),C=function(e,t){var n,o=t.element;if(!o)return e;var r=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,c=-1!==["left","right"].indexOf(r),l=c?"height":"width",p=c?"Top":"Left",u=p.toLowerCase(),d=c?"left":"top",h=c?"bottom":"right",m=Object(O.getOuterSizes)(o)[l];s[h]-m<a[u]&&(e.offsets.popper[u]-=a[u]-(s[h]-m)),s[u]+m>a[h]&&(e.offsets.popper[u]+=s[u]+m-a[h]),e.offsets.popper=Object(O.getClientRect)(e.offsets.popper);var f=s[u]+s[l]/2-m/2,g=Object(O.getStyleComputedProperty)(e.instance.popper),b=parseFloat(g["margin"+p]),v=parseFloat(g["border"+p+"Width"]),y=f-e.offsets.popper[u]-b-v;return y=Math.max(Math.min(a[l]-m-32,y),0),e.arrowElement=o,e.offsets.arrow=((n={})[u]=Math.round(y),n[d]="",n),e},w=n(1057);function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return x(S(t=e.call.apply(e,[this].concat(o))||this),"eventBlockerRef",void 0),x(S(t),"stopBubbling",(function(e){"click"===e.type&&t.props.onClickEvent&&t.props.onClickEvent(),e.stopPropagation()})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var e=this;this.eventBlockerRef&&this.props.events.forEach((function(t){Object(g.c)(e.eventBlockerRef,t,e.stopBubbling)}))},r.componentWillUnmount=function(){var e=this;this.eventBlockerRef&&this.props.events.forEach((function(t){Object(g.y)(e.eventBlockerRef,t,e.stopBubbling)}))},r.render=function(){var e=this;return c.a.createElement("div",{className:"event-blocker",ref:function(t){return e.eventBlockerRef=t}},this.props.children)},o}(s.Component);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return _}));var _=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return P(R(t=e.call.apply(e,[this].concat(o))||this),"arrow",void 0),P(R(t),"node",void 0),P(R(t),"arrowContainer",void 0),P(R(t),"positioner",void 0),P(R(t),"targetInDom",void 0),P(R(t),"IntersectionObserver",void 0),P(R(t),"missingSelectorTimeout",void 0),P(R(t),"scrollIntoViewTimeout",void 0),P(R(t),"repositionCheckTimeout",void 0),P(R(t),"mutationObserver",void 0),P(R(t),"state",{styles:null,arrowStyles:null,hide:!1,nodeInViewPort:!1,nodeIsEntirelyInViewport:!1,positionerOffsetForMask:{left:0,top:0},placement:null,maskStyles:{padding:0,top:0,left:0,width:0,height:0}}),P(R(t),"targetWithClickHandler",null),P(R(t),"updateElementPosition",(function(e){var n=e.styles,o=e.arrowStyles;return t.setState({styles:n,hide:!t.targetIsVisible(),arrowStyles:o}),e.attributes&&t.applyAttributes(e.attributes),t.checkIfRepositionRequired(e),e})),P(R(t),"updateMaskPosition",(function(){var e=t.getMaskStyles();a()(t.state.maskStyles,e)||t.setState({maskStyles:e})})),P(R(t),"handleOverlayClick",(function(){t.scrollIntoView(),t.props.onOverlayClick&&t.props.onOverlayClick()})),P(R(t),"handleTargetClick",(function(){t.props.onTargetClick&&t.props.onTargetClick()})),P(R(t),"handlePlacementChange",(function(){t.props.onPlacementChange&&t.state.placement&&t.props.onPlacementChange(t.state.placement)})),P(R(t),"renderOverlay",(function(){var e=t.getTargetNode();return t.props.renderOverlay(t.handleOverlayClick,t.props,e)})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.reinitializeObjects=function(){this.initializeIntersectionObserver(),this.initializePositioner(),this.setupTargetClickHandler()},i.componentDidMount=function(){this.initializeMuationObserver(),this.reinitializeObjects(),this.updateMaskPosition()},i.shouldComponentUpdate=function(e,t){return!a()(this.props,e)||!a()(this.state,t)},i.componentDidUpdate=function(e,t){e.targetSelector!==this.props.targetSelector?this.reinitializeObjects():this.positioner?this.positioner.scheduleUpdate():this.reinitializeObjects(),t.placement!==this.state.placement&&this.handlePlacementChange()},i.componentWillUnmount=function(){var e=this.props.appWindow;this.destroyIntersectionObserver(),this.destroyPositioner(),this.destroyTargetClickHandler(),function(e){e.IntercomIntersectionObserver&&(delete e.IntercomIntersectionObserver,delete e.IntercomIntersectionObserverEntry)}(e),function(e){var t=e;(t.HTMLElement||t.Element).prototype.intercomScrollIntoView=null,t.intercomScrollBy&&delete t.intercomScrollBy}(e),this.missingSelectorTimeout&&clearTimeout(this.missingSelectorTimeout),this.scrollIntoViewTimeout&&clearTimeout(this.scrollIntoViewTimeout),this.repositionCheckTimeout&&clearTimeout(this.repositionCheckTimeout),this.mutationObserver&&this.mutationObserver.disconnect()},i.getTargetNode=function(){var e=this.props,t=e.targetSelector,n=e.appWindow;try{return n.document.querySelector(t)}catch(e){return null}},i.setupTargetClickHandler=function(){this.destroyTargetClickHandler(),this.targetWithClickHandler=this.getTargetNode(),this.targetWithClickHandler&&Object(g.c)(this.targetWithClickHandler,"click",this.handleTargetClick,!0)},i.destroyTargetClickHandler=function(){this.targetWithClickHandler&&Object(g.y)(this.targetWithClickHandler,"click",this.handleTargetClick)},i.storeMaskOffsetsBasedOnFlipPosition=function(e){if(this.props.scrollable){var t=e["x-placement"];switch(t){case"bottom":this.setState({placement:t,positionerOffsetForMask:{left:0,top:3}});break;case"top":this.setState({placement:t,positionerOffsetForMask:{left:0,top:-3}});break;case"left":this.setState({placement:t,positionerOffsetForMask:{left:-5,top:0}});break;case"right":this.setState({placement:t,positionerOffsetForMask:{left:3,top:0}});break;default:return}}},i.applyAttributes=function(e){var t=this;[this.arrowContainer,this.node].forEach((function(n){n&&"function"==typeof n.querySelectorAll&&Object.keys(e).forEach((function(t){n&&n.setAttribute&&n.setAttribute(t,e[t])})),t.storeMaskOffsetsBasedOnFlipPosition(e)}))},i.checkIfRepositionRequired=function(e){var t=this,n=e.styles,o=e.attributes;if(this.repositionCheckTimeout&&clearTimeout(this.repositionCheckTimeout),o&&!1!==o["x-out-of-boundaries"]&&n&&n.transform){var r=(n.transform.match(/(-{0,1}\d+)px/g)||[]).map((function(e){return Number(e.replace("px",""))})),i=parseInt(r[0]),a=parseInt(r[1]);i<0&&a<0&&(this.repositionCheckTimeout=setTimeout((function(){t.nodeIsVisible()&&t.reinitializeObjects()}),500))}},i.targetIsVisible=function(){if(!this.state.nodeInViewPort)return!1;var e=this.getTargetNode();return Object(g.u)(e)},i.scrollIntoView=function(){var e=this,t=this.props.appWindow;y(t),this.scrollIntoViewTimeout=setTimeout((function(){var t=e.state.nodeIsEntirelyInViewport,n=e.getTargetNode();n&&!t&&(n.intercomScrollIntoView?n.intercomScrollIntoView({behavior:"smooth",block:"center",inline:"center"}):n.scrollIntoView&&n.scrollIntoView(!0,{behaviour:"smooth"}))}),200)},i.initializeMuationObserver=function(){var e=this,t=this.props.appWindow;this.targetInDom=!!this.getTargetNode(),this.mutationObserver=new MutationObserver((function(){e.targetInDom&&!e.getTargetNode()&&(e.targetInDom=!1,e.destroyPositioner(),e.forceUpdate()),!e.targetInDom&&e.getTargetNode()&&(e.targetInDom=!0,e.forceUpdate()),e.updateMaskPosition()})),this.mutationObserver.observe(t.document.body,{attributes:!0,subtree:!0,childList:!0})},i.initializePositioner=function(){var e=this.props.scrollable,t=this.getTargetNode();t&&this.node&&(e&&this.scrollIntoView(),this.positioner=new p.a(t,this.node,{positionFixed:!1,placement:"auto",modifiers:{applyStyle:{enabled:!1},preventOverflow:{boundariesElement:"viewport"},arrow:{enabled:!0,element:this.arrow,fn:C},updateElementPosition:{enabled:!0,fn:this.updateElementPosition,order:900}}}))},i.initializeIntersectionObserver=function(){var e=this,t=this.props.appWindow,n=this.getTargetNode();n&&(t.IntercomIntersectionObserver||v(t),this.IntersectionObserver=new t.IntercomIntersectionObserver((function(t){if(0!==t.length){var o=r()(t,["time"],["desc"])[0],i=o.isIntersecting,a=o.intersectionRatio,s=i,c=i&&Object(g.u)(n),l=1===a;e.setState({hide:!c,nodeInViewPort:s,nodeIsEntirelyInViewport:l})}}),{threshold:.05}),this.IntersectionObserver.observe(n))},i.destroyPositioner=function(){this.positioner&&(this.positioner.destroy(),delete this.positioner)},i.destroyIntersectionObserver=function(){this.IntersectionObserver&&this.IntersectionObserver.disconnect()},i.reinitializePointer=function(){this.destroyPositioner(),this.initializePositioner()},i.reinitializeIntersectionObserver=function(){this.destroyIntersectionObserver(),this.initializeIntersectionObserver()},i.mergedStyles=function(){var e=this.props.scrollable,t=this.state,n=t.styles,o=t.positionerOffsetForMask;if(!n)return{};if(!e)return n;var r=o.left,i=o.top;return E({},n,{left:n.left+r,top:n.top+i})},i.nodeIsVisible=function(){var e=this.getTargetNode();return e&&Object(g.u)(e)},i.getStyles=function(){var e=this.props.hideArrow,t=this.props.childDimensions||{},n=t.height,o=t.width,r=t.opacity,i=e?5:15;if(this.nodeIsVisible()){var a=!this.state.hide&&n&&o&&r?1:0;return this.onSelectorMatch(),E({},this.mergedStyles(),{opacity:a,margin:i})}if(this.props.renderFallback){var s=(this.props.childDimensions||{}).opacity;return this.props.targetSelector&&this.onMissingSelector(),{position:"fixed",top:"calc(50% - "+(n||0)/2+"px)",left:"calc(50% - "+(o||0)/2+"px)",opacity:s,margin:i}}},i.getArrowStyles=function(){var e=this.state,t=e.arrowStyles,n=e.hide,o=this.props.childDimensions||{},r=o.height,i=o.width,a=!n&&r&&i?1:0;return t?{top:t.top,left:t.left,opacity:a}:{opacity:a}},i.getMaskStyles=function(){var e=this.getTargetNode();if(!e||!this.props.scrollable||this.state.hide)return{padding:0,top:0,left:0,width:0,height:0};var t=e.getBoundingClientRect(),n=t.top,o=t.left,r=t.width,i=t.height,a=this.props.appWindow;return{padding:3,top:n-3+a.pageYOffset,left:o-3+a.pageXOffset,width:r,height:i}},i.renderArrow=function(){var e=this;return c.a.createElement(w.b,{style:E({},this.getArrowStyles()),ref:function(t){return e.arrow=t}},c.a.createElement(w.a,{frameName:"intercom-positioner-arrow-frame"},(function(){return c.a.createElement(w.e,{style:{display:e.props.hideArrow?"none":"block"},ref:function(t){return e.arrowContainer=t}})})))},i.onMissingSelector=function(){var e=this;this.missingSelectorTimeout||(this.missingSelectorTimeout=setTimeout((function(){!e.nodeIsVisible()&&e.props.onMissingSelector&&e.props.onMissingSelector()}),300))},i.onSelectorMatch=function(){this.props.onSelectorMatch&&this.props.onSelectorMatch()},i.render=function(){var e=this,t=this.props,n=t.scrollable,o=t.shouldAnimate,r=t.renderFallback,i=t.children,a=t.appWindow,s=this.getTargetNode();if(!s&&!r)return null;var l=this.state.maskStyles,p=l.width,u=l.height;return c.a.createElement(f,{appWindow:a},c.a.createElement(c.a.Fragment,null,c.a.createElement(w.g,{ref:function(t){return e.node=t},style:this.getStyles()},c.a.createElement(w.d,null,this.nodeIsVisible()?this.renderArrow():null,this.targetIsVisible()||r?i:null)),c.a.createElement(w.f,{style:l,isStep:n&&!!s,isPost:n&&!s,isAnimating:o,height:u,width:p}),c.a.createElement(j,{events:["auxclick","click","dblclick","mousedown","mouseup"],onClickEvent:function(){return e.handleOverlayClick()}},this.renderOverlay())))},o}(s.Component);P(_,"defaultProps",{hideArrow:!1,renderFallback:!1,shouldAnimate:!1,renderOverlay:function(e,t){var n=t.scrollable;return c.a.createElement(w.c,{onClick:e,scrollable:n,tabIndex:"-1"})}})},1148:function(e,t,n){e.exports=n.p+"images/video-mask.465b1c38.svg"},1149:function(e,t,n){e.exports=n.p+"images/video-mask-right.7bfca12f.svg"},1167:function(e,t,n){"use strict";n.r(t);var o=n(54),r=n(65),i=n(194),a=n(0),s=n.n(a),c=n(584),l=n.n(c),p=n(952),u=n(976),d=n(22),h=n(967),m=n(991),f=n(19),g=n(2),b={name:"isshev",styles:"padding:25px 0px;"},v=Object(g.c)("div",{target:"e1mknya50"})("position:relative;padding:8px;order:0;flex:0 1 100%;align-self:auto;display:flex;justify-content:flex-end;align-items:center;border-top:1px solid #eee;",(function(e){return e.hideButton&&b})," ",(function(e){return e.isVideoStep&&Object(g.b)("transition:transform 300ms cubic-bezier(0.165,0.84,0.44,1),opacity 10ms;transform:translateY(100%);margin-top:4px;border-radius:5px;position:absolute;bottom:0;left:0;right:0;border:0;opacity:0;",x.className,"{color:#fff;font-size:14px;}")})),y=Object(g.c)("div",{target:"e1mknya51"})("flex:0 1 auto;position:relative;button{font-size:14px;background-color:",Object(g.f)("appColor"),";color:white;font-weight:bold;padding:10px 20px;border-radius:4px;cursor:pointer;}button[disabled]{opacity:0.6;}",(function(e){return e.animating&&Object(g.b)("animation:",O()," 500ms;")})),O=function(){return Object(g.d)("0%{",w,";}25%{",C,";}49%{",w,";}50%{",w,";}75%{",S,";}100%{",w,";}")},C={name:"1ldqog6",styles:"transform:scale(1.1);"},w={name:"41q668",styles:"transform:scale(1);"},S={name:"kp0j2p",styles:"transform:scale(1.05);"},x=Object(g.c)("div",{target:"e1mknya52"})("position:absolute;left:0;right:0;text-align:center;color:",Object(g.f)("installGrey1"),";font-size:14px;");function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return k(j(t=e.call.apply(e,[this].concat(o))||this),"button",void 0),k(j(t),"disabledButton",void 0),k(j(t),"inputFieldValidation",void 0),k(j(t),"state",{buttonIsAnimating:!1,disabledButton:!1}),k(j(t),"finishButtonAnimation",(function(){t.button&&t.setState({buttonIsAnimating:!1})})),k(j(t),"validateInput",(function(){t.setState({disabledButton:!0}),t.inputFieldValidation=new f.c(t.props.selector,(function(e){t.setState({disabledButton:!e})})),t.inputFieldValidation.run()})),k(j(t),"handleOnContinue",(function(){t.state.disabledButton||t.props.onContinue()})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){this.button&&this.button.addEventListener("animationend",this.finishButtonAnimation),"type"===this.props.progressionBehavior&&this.validateInput()},r.componentDidUpdate=function(){var e=this.props.resetOverlayClick;this.props.hasClickedOverlay&&(this.setState({buttonIsAnimating:!0}),e())},r.componentWillUnmount=function(){this.inputFieldValidation&&this.inputFieldValidation.destroy()},r.render=function(){var e=this,t="click"!==this.props.progressionBehavior;return s.a.createElement(v,{hideButton:!t,isVideoStep:this.props.isVideoStep},s.a.createElement(x,null,Object(d.d)("product_tours_tour_step_number",{start_number:this.props.activeStepIndex+1,end_number:this.props.stepCount})),t&&s.a.createElement(y,{animating:this.state.buttonIsAnimating,ref:function(t){return e.button=t}},s.a.createElement("button",{disabled:this.state.disabledButton,onClick:this.handleOnContinue,tabIndex:"0"},this.props.activeStepIndex+1===this.props.stepCount?Object(d.d)("product_tours_done"):Object(d.d)("product_tours_next"))))},o}(a.Component),R=n(971),P=n(1044),_=n(960),T=n(1148),I=n.n(T),N=n(1149),B=n.n(N),M=n(1018),A=n(992),H=n(1015),F=Object(g.c)("div",{target:"e1ggaaxy0"})("opacity:0;position:absolute;left:0;top:0;cursor:pointer;right:0;bottom:0;background:rgba(0,0,0,0.4);transition:opacity 300ms cubic-bezier(0.165,0.84,0.44,1);",M.b.className,"{right:50%;bottom:50%;margin-right:-22px;margin-bottom:-22px;background-size:44px 44px;}",_.a.className," svg > g > g{fill:",Object(g.f)("white"),";}"),D=Object(g.c)("div",{target:"e1ggaaxy1"})("mask-image:url(",I.a,");"),q=Object(g.c)("div",{target:"e1ggaaxy2"})(),V=Object(g.c)("div",{target:"e1ggaaxy3"})("position:relative;",_.a.className,"{right:8px;top:18px;}",H.a.className,"{padding:20px;padding-bottom:16px;font-weight:400;}.timeline-intercom-video-step-mask{mask-image:url('../images/video-tours-mask.svg');}",M.d.className,"{position:relative;}&:hover{",A.b.className,"{transform:translateY(28px);opacity:0;}",F.className,"{opacity:1;&.intercom-tour-step-video-overlay-hidden{opacity:0;}",v.className,"{transform:translateY(0);opacity:1;}}}",(function(e){return e.videoComplete&&Object(g.b)(A.b.className,"{transform:translateY(28px);opacity:0;}",F.className,"{opacity:1;&.intercom-tour-step-video-overlay-hidden{opacity:0;}",v.className,"{transform:translateY(0);opacity:1;}}")})," ",(function(e){return"right"===e.placement&&Object(g.b)(D.className,"{mask-image:url(",B.a,");transform:rotate(180deg);}",q.className,"{transform:rotate(180deg);}",v.className,"{left:10px;}",_.a.className,"{right:8px;top:8px;}",A.b.className,"{left:10px;margin-right:10px;}")})," ",(function(e){return"left"===e.placement&&Object(g.b)(D.className,"{mask-image:url(",B.a,");}",v.className,"{right:10px;}",_.a.className,"{right:18px;top:8px;}",A.b.className,"{left:-10px;margin-left:10px;}")})," ",(function(e){return"top"===e.placement&&Object(g.b)(q.className,"{transform:rotate(180deg);}",v.className,"{bottom:10px;}",D.className,"{transform:rotate(180deg);}",_.a.className,"{right:8px;top:8px;}",A.b.className,"{bottom:0px;padding-bottom:10px;}")}));function W(e){var t=e.muted,n=e.onClick;return s.a.createElement(M.b,{muted:t,onClick:n})}var z=n(4),L=Object(z.createSelector)(r.o,r.n,(function(e,t){return{muted:e,userHasInteractedWithVideo:t}})),U=Object(o.connect)(L,{changeVideoMuted:i.a})((function(e){var t=e.block,n=t.url,o=t.captions,r=t.thumbnailUrl,i=e.placement,c=e.activeStepIndex,p=e.stepCount,u=e.onClose,h=e.onContinue,f=e.muted,g=e.changeVideoMuted,b=e.userHasInteractedWithVideo,v=e.hasClickedOverlay,y=e.resetOverlayClick,O=e.selector,C=e.progressionBehavior,w=Object(a.useState)(!0),S=w[0],x=w[1],j=Object(a.useState)(),k=j[0],R=j[1],T=Object(a.useState)(!1),I=T[0],N=T[1],B=function(){f&&R(0),g(!f)},M=l()("intercom-tour-step-video-overlay",{"intercom-tour-step-video-overlay-hidden":I});return s.a.createElement(V,{placement:i,videoComplete:!S},s.a.createElement(D,null,s.a.createElement(q,null,s.a.createElement(P.a,{srcUrl:n,captions:f?o:void 0,showControls:!1,onComplete:function(){x(!1)},onReplay:function(){return x(!0)},muted:f,startTime:k,loop:!b&&f,thumbnailUrl:r}),s.a.createElement(F,{className:M,onClick:function(e){e.target.classList.contains("intercom-tour-step-video-overlay")&&B(),N(!0)},onMouseMove:function(){return N(!1)}},s.a.createElement(_.a,{onClick:u,"aria-label":Object(d.d)("close")},s.a.createElement(m.a,null)),S&&s.a.createElement(W,{muted:f,onClick:B}),p>1?s.a.createElement(E,{activeStepIndex:c,stepCount:p,onContinue:h,selector:O,hasClickedOverlay:v,resetOverlayClick:y,progressionBehavior:C,isVideoStep:!0}):null))))}));function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Y(G(t=e.call.apply(e,[this].concat(o))||this),"state",{isScrolled:!1}),Y(G(t),"handleScroll",(function(e){t.setState({isScrolled:e.target.scrollTop>0})})),Y(G(t),"handleOnCloseClick",(function(){t.props.onStop()})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.getClassNames=function(){return l()({"intercom-tour-step":!0,"intercom-tour-step-pointer":this.isPointer(),"intercom-tour-step-post":!this.isPointer()})},r.calculateWidth=function(){var e=this.props.appWindow.innerWidth;return Math.min(624,e)-80},r.isPointer=function(){return!!this.props.selector},r.getStyles=function(){if(!this.isPointer())return{width:this.calculateWidth()+"px"}},r.onLoad=function(){this.props.onLoad&&this.props.onLoad()},r.componentDidUpdate=function(e){this.props.step.id!==e.step.id&&this.onLoad()},r.componentDidMount=function(){this.props.onLoad()},r.renderVideoTourStep=function(){var e=this.props,t=e.onContinue,n=e.activeStepIndex,o=e.stepCount,r=e.placement,i=e.selector,a=e.step,c=a.blocks,l=a.progressionBehavior,p=e.hasClickedOverlay,u=e.resetOverlayClick;return r?s.a.createElement(U,{block:c[0],placement:r,activeStepIndex:n,stepCount:o,selector:i,onClose:this.handleOnCloseClick,onContinue:t,hasClickedOverlay:p,resetOverlayClick:u,progressionBehavior:l}):null},r.renderTourStep=function(){var e=this.props,t=e.onContinue,n=e.activeStepIndex,o=e.stepCount,r=e.author,i=e.appName,a=e.selector,c=e.step,l=c.blocks,f=c.progressionBehavior,g=c.id,b=e.hasClickedOverlay,v=e.resetOverlayClick;return s.a.createElement(h.a,{appName:i,isReplyStyle:!1,author:r},s.a.createElement("div",{className:"intercom-tour-step-header"},s.a.createElement(_.a,{onClick:this.handleOnCloseClick,"aria-label":Object(d.d)("close")},s.a.createElement(m.a,null))),s.a.createElement(_.b,{className:"intercom-tour-step-content"},s.a.createElement(u.a,{onScroll:this.handleScroll},s.a.createElement(p.a,{blocks:l,key:"tour-step-block-"+g}))),o>1?s.a.createElement(E,{activeStepIndex:n,stepCount:o,onContinue:t,selector:a,progressionBehavior:f,hasClickedOverlay:b,resetOverlayClick:v,isVideoStep:!1}):null)},r.render=function(){var e=this.props.step.blocks,t=this.state.isScrolled,n=this.isPointer();return s.a.createElement(_.c,{className:this.getClassNames(),style:this.getStyles(),isPointer:n,isPost:!n,scrolled:t},Object(R.b)(e)?this.renderVideoTourStep():this.renderTourStep())},o}(a.Component),K=n(286),J=n(1075),Q=n(45),$=Object(g.c)("div",{target:"ekepq2u0"})("position:absolute;z-index:",Object(Q.m)(),";");function Z(e){var t,n,o,r=e.onClick,i=e.appWindow,a=function(e,t){var n=e.getBoundingClientRect(),o=n.left,r=n.right,i=n.top,a=n.bottom,s=t.pageXOffset,c=t.pageYOffset;return{left:o+=s,right:r+=s,top:i+=c,bottom:a+=c}}(e.targetNode,i),c=a.left,l=a.right,p=a.top,u=a.bottom,d=(t=i.document,n=t.body,o=t.documentElement,n&&o?Math.max(n.scrollHeight,n.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight):0);return s.a.createElement(s.a.Fragment,null,s.a.createElement($,{style:{top:0,left:0,right:0,height:p},tabIndex:"none",onClick:r}),s.a.createElement($,{style:{top:p,left:0,width:c,height:u-p},tabIndex:"none",onClick:r}),s.a.createElement($,{style:{top:p,left:l,right:0,height:u-p},tabIndex:"none",onClick:r}),s.a.createElement($,{style:{top:u,left:0,right:0,bottom:0,height:d-u},tabIndex:"none",onClick:r}))}var ee=n(583),te={name:"1j1kj5x",styles:"border:none;box-shadow:none;"},ne=Object(g.c)(ee.a,{target:"e1s9bqu40"})("z-index:",Object(Q.m)(1),";border-radius:5px;box-shadow:0 3px 32px 0 rgba(0,0,0,0.14);border:1px solid rgba(0,0,0,0.1);",(function(e){return e.isVideo&&te})),oe=n(7);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return se(ae(t=e.call.apply(e,[this].concat(o))||this),"state",{width:0,height:0,opacity:0,placement:null,hasClickedOverlay:!1,recordFailureStats:!1}),se(ae(t),"handleDimensionFrameSize",(function(e){var n=e.height,o=e.width;t.setState({width:o,height:n,opacity:1})})),se(ae(t),"trackingKey",(function(e){return t.props.isPreviewingTour?e+"_preview":e})),se(ae(t),"handleOnTourContinue",(function(){var e=t.props,n=e.onContinue,o=e.activeStepIndex,r=e.stepCount;t.setState({opacity:0,recordFailureStats:!1}),n();var i=o+1===r?"done":"next";Object(oe.e)("clicked",i,t.trackingKey("tour"),null,t.trackingMetadata())})),se(ae(t),"handleOnTourStop",(function(){var e=t.props.onStop;Object(oe.e)("clicked","stop",t.trackingKey("tour"),null,t.trackingMetadata()),t.setState({opacity:0,recordFailureStats:!1}),e()})),se(ae(t),"handleMissingCssSelector",(function(){var e=t.props,n=e.activeStep,o=e.onFailure,r=e.isPreviewingTour;n.selector&&(Object(oe.e)("css_selector_match_failed",t.trackingKey("tour_step"),"positioner",null,ie({},t.trackingMetadata(),{},t.activeStepSelectorMetadata())),!r&&t.state.recordFailureStats&&o())})),se(ae(t),"handleTourStepLoad",(function(){var e=t.props,n=e.stepCount,o=e.activeStepIndex,r=e.onComplete;o+1===n&&r(),t.setState({recordFailureStats:!0}),Object(oe.e)("viewed",t.trackingKey("tour_step"),"tour",null,t.trackingMetadata())})),se(ae(t),"handleOverlayClick",(function(){Object(oe.e)("clicked",t.trackingKey("outside_tour_step"),"tour",null,t.trackingMetadata()),t.setState({hasClickedOverlay:!0})})),se(ae(t),"resetOverlayClick",(function(){t.setState({hasClickedOverlay:!1})})),se(ae(t),"handleTargetClick",(function(){t.isClickToProgress()&&t.handleOnTourContinue()})),se(ae(t),"handlePlacementChange",(function(e){t.setState({placement:e})})),se(ae(t),"isClickToProgress",(function(){return"click"===t.props.activeStep.progressionBehavior})),se(ae(t),"needsInteractionWithElement",(function(){var e=t.props.activeStep.progressionBehavior;return"click"===e||"type"===e})),se(ae(t),"getOverlayRenderer",(function(){if(t.needsInteractionWithElement())return t.clickToProgressOverlayRenderer})),se(ae(t),"clickToProgressOverlayRenderer",(function(e,t,n){var o=t.appWindow;return n?s.a.createElement(Z,{onClick:e,targetNode:n,appWindow:o}):null})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.getChildDimensions=function(){var e=this.state;return{width:e.width,height:e.height,opacity:e.opacity}},r.getFrameDimensions=function(){var e=this.state;return{width:e.width,height:e.height}},r.trackingMetadata=function(){var e=this.props,t=e.activeTourId,n=e.activeStep,o=e.activeStepIndex,r=e.stepCount;return{tour_id:t,tour_step_id:n.id,active_step_index:o,step_count:r}},r.activeStepSelectorMetadata=function(){var e=this.props.activeStep,t=!1;if(e.selectors.auto_secondary)try{t=null!=window.parent.document.querySelector(e.selectors.auto_secondary)}catch(e){}return ie({},e.selectors,{secondary_currently_matches:t})},r.render=function(){var e=this,t=this.props,n=t.appWindow,o=t.appName,r=t.author,i=t.activeStep,a=t.stepCount,c=t.activeStepIndex,l=t.isAwaitingProgress,p=this.state.placement,u=Object(R.b)(i.blocks);return s.a.createElement(J.a,{appWindow:n,scrollable:!0,targetSelector:i.selector,childDimensions:this.getChildDimensions(),renderFallback:!l,key:"tour-step-"+i.id,onMissingSelector:this.handleMissingCssSelector,onOverlayClick:this.handleOverlayClick,onTargetClick:this.handleTargetClick,onPlacementChange:this.handlePlacementChange,hideArrow:u||!i.selector,renderOverlay:this.getOverlayRenderer(),shouldAnimate:this.isClickToProgress()},s.a.createElement(ne,{style:this.getFrameDimensions(),frameName:"intercom-tour-frame",className:"intercom-tour-frame",title:"Intercom live chat "+Object(d.d)("tour"),isVideo:u},(function(){return s.a.createElement(K.a,{id:"tour-frame",key:"tour-frame",onChange:e.handleDimensionFrameSize},s.a.createElement(X,{appWindow:n,appName:o,author:r,step:i,activeStepIndex:c,stepCount:a,selector:i.selector,onLoad:e.handleTourStepLoad,onContinue:e.handleOnTourContinue,onStop:e.handleOnTourStop,placement:p,hasClickedOverlay:e.state.hasClickedOverlay,resetOverlayClick:e.resetOverlayClick}))})))},o}(a.PureComponent);n.d(t,"mapStateToProps",(function(){return le})),n.d(t,"mapDispatchToProps",(function(){return pe}));var le=function(e){var t=Object(r.c)(e),n=Object(r.f)(e),o=Object(r.e)(e),i=Object(r.d)(e),a=Object(r.a)(e),s=Object(r.i)(e),c=Object(r.b)(e),l=Object(r.h)(e),p=e.app.name;return{activeTourId:t.id,activeStep:n,activeStepIndex:o,stepCount:i,appName:p,author:a,isPreviewingTour:s,endTourAnimation:c,isAwaitingProgress:l}},pe=function(e){return{onContinue:function(){e(Object(i.e)())},onStop:function(){e(Object(i.j)())},onComplete:function(){e(Object(i.c)())},onFailure:function(){e(Object(i.f)())}}};t.default=Object(o.connect)(le,pe)(ce)},1168:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(286),a=n(54),s=n(16),c=n(150),l=n.n(c),p=n(25),u=n(953),d=n(967),h=n(962),m=n(1023),f=n(129),g=n(971),b=n(1032),v=n(360),y=n(995),O=n(1052),C=n(7);function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return S(w(t=e.call.apply(e,[this].concat(o))||this),"addSnippetMetric",(function(e){var n=t.props.conversation,o=Object(p.r)(n);Object(C.e)(e,"snippet","in_app","",{conversation_id:n.id,part_id:o.id,part_type:o.messageType})})),S(w(t),"addClickedMetric",(function(){t.addSnippetMetric("clicked")})),S(w(t),"handleClick",(function(){var e=t.props,n=e.conversation,o=e.onClick;t.addClickedMetric(),o(n)})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){this.addSnippetMetric("received")},i.shouldRenderChatStyle=function(){var e=this.props,t=e.conversation,n=e.stack;return(Object(p.j)(t)||Object(p.i)(t))&&!n},i.getConversationParts=function(){return this.props.conversation.parts.filter((function(e){return!1===Object(v.a)(e.partType)}))},i.renderBody=function(e){if(1===e.length&&Object(g.c)(e[0]))return r.a.createElement(b.a,{text:Object(f.d)(e[0])});var t=Object(f.e)(this.getConversationParts()).summaryText;return r.a.createElement(u.a,{text:t})},i.renderPlainStyle=function(e,t,n,o){return r.a.createElement(y.a,null,r.a.createElement(O.f,{className:"intercom-snippet",onClick:this.handleClick},r.a.createElement(d.a,{appName:n,author:e,isReplyStyle:o},r.a.createElement(O.e,null,this.renderBody(t)))))},i.renderChatStyle=function(e,t,n,o){return r.a.createElement(y.a,null,r.a.createElement(O.d,{className:"intercom-chat-snippet",onClick:this.handleClick},r.a.createElement(O.a,null,r.a.createElement(h.a,{author:e})),r.a.createElement(O.c,null,r.a.createElement(m.a,{author:e,appName:n,isReplyStyle:o}),r.a.createElement(O.b,null,this.renderBody(t)))))},i.render=function(){var e=this.props,t=e.appName,n=e.conversation.userParticipated,o=Object(p.d)(this.props.conversation);if(!o)return null;var r=o.author,i=o.body;return this.shouldRenderChatStyle()?this.renderChatStyle(r,i,t,n):this.renderPlainStyle(r,i,t,n)},o}(o.Component);x.defaultProps={stack:!1},x.propTypes={conversation:l.a.shape({id:l.a.any.isRequired,parts:l.a.arrayOf(l.a.shape({author:l.a.object.isRequired,body:l.a.array.isRequired})).isRequired,userParticipated:l.a.bool.isRequired}).isRequired,appName:l.a.string.isRequired,stack:l.a.bool.isRequired,onClick:l.a.func.isRequired};var j=n(2),k=n(964),E="cubic-bezier(0.165, 0.84, 0.44, 1)",R=Object(j.d)("0%{opacity:0;transform:translateY(20px);}30%{opacity:1;}100%{opacity:1;transform:translateY(0);}"),P=Object(j.c)("div",{target:"e1d2cwfh0"})("padding:0 ",5,"px;"),_={name:"1fcc2f6",styles:"box-shadow:0 2px 8px 0 rgba(35,47,53,0.2);"},T=Object(j.c)("div",{target:"e1d2cwfh1"})("position:relative;height:",Object(j.e)("height"),"px;width:",340,"px;max-width:100%;padding-bottom:",10,"px;",k.b.className,"{height:",120,"px;",(function(e){return e.theme.isMobile&&_}),";}",y.a.className,"{animation:",R," 0.25s ",E,";}"),I=Object(j.c)("div",{target:"e1d2cwfh2"})("box-sizing:border-box;position:absolute;bottom:",10,"px;width:100%;backface-visibility:hidden;transform-origin:top center;transition:transform ",300,"ms ",E,";",(function(e){return 2===e.position&&Object(j.b)("transform:translate3d(0,-",7,"px,0) scale(0.95);")})," ",(function(e){return 3===e.position&&Object(j.b)("transform:translate3d(0,-",14,"px,0) scale(0.9);")})," ",(function(e){var t=e.position,n=e.expanded;return 2===t&&n&&Object(j.b)("transition-delay:150ms;transform:translate3d(0,-",130,"px,0) scale(1);")})," ",(function(e){var t=e.position,n=e.expanded;return 3===t&&n&&Object(j.b)("transition-delay:150ms;transform:translate3d(0,-",260,"px,0) scale(1);")})),N=Object(j.c)("div",{target:"e1d2cwfh3"})("padding-top:",10,"px;:after{content:'';clear:both;display:table;}",y.b.className,"{transition:opacity ",200,"ms ",E,";",(function(e){return e.expandAnimationInProgress&&Object(j.b)("transition-delay:",300,"ms;")}),"}");function B(e){var t=e.conversation,n=e.appName,o=e.position,i=e.expanded,a=e.handleOnClick,s=e.stack;return r.a.createElement(I,{position:o,expanded:i,key:t.id},r.a.createElement(x,{conversation:t,appName:n,onClick:a,stack:s}))}var M,A,H={name:"1v8x7dw",styles:"overflow:auto;"},F=Object(j.c)("div",{target:"e106pw6f0"})("max-height:",Object(j.e)("maxHeight"),"px;",(function(e){return e.scroll&&H})),D=n(26),q=n(137);function V(e){var t=e.frameNode,n=e.children,i=e.keepScrollToBottom,a=e.scrollToBottomWithAnimation,s=function(e,t){if(t.privilegeSeparationEnabled){var n=t.pageHeight-t.verticalPaddingPx+t.borderlessIframePaddingPx;return t.isLauncherEnabled&&(n-=t.launcherOffsetBottomPaddingPx),n}return e.offsetTop+e.clientHeight}(t,Object(o.useContext)(q.ThemeContext)),c=Object(o.useRef)(null),l=Object(o.useState)(!1),p=l[0],u=l[1];return Object(o.useEffect)((function(){return i&&c.current&&function e(){c.current&&Object(D.z)(c.current),M=window.parent.requestAnimationFrame(e)}(),function(){return window.parent.cancelAnimationFrame(M)}}),[i]),Object(o.useEffect)((function(){a&&c.current&&Object(D.e)(c.current)}),[a]),Object(o.useEffect)((function(){return A=setTimeout((function(){return u(!0)}),300),function(){clearTimeout(A),window.parent.cancelAnimationFrame(M)}}),[]),r.a.createElement(F,{maxHeight:s,ref:c,scroll:p},n)}var W,z,L,U=n(18),G=function(e,t){return e-t};function Y(e){var t=e.conversations,n=e.appName,i=e.handleOnClick,a=e.children,s=e.frameNode,c=t.filter((function(e){return!!Object(p.d)(e)})),l=130*c.length,u=130+7*(c.length-1),d=Object(U.i)(),h=Object(o.useState)(!1),m=h[0],f=h[1],g=Object(o.useState)(u),b=g[0],v=g[1],y=Object(o.useState)(!1),O=y[0],w=y[1],S=function(e){var t=c.map((function(e){return e.id}));f(e),function(e){Object(C.e)("hovered","message","in_app","from_grouped_message",{conversation_ids:e.join(",")})}(t),e?(clearTimeout(L),w(!0),W=setTimeout((function(){return v(l)}),1),z=setTimeout((function(){return w(!1)}),300)):L=setTimeout((function(){return v(u)}),300)};return Object(o.useEffect)((function(){return function(){clearTimeout(W),clearTimeout(z),clearTimeout(L)}}),[]),r.a.createElement(V,{frameNode:s,keepScrollToBottom:O,scrollToBottomWithAnimation:!m},r.a.createElement(P,{onMouseEnter:function(){return!d&&S(!0)},onMouseLeave:function(){return!d&&S(!1)},onFocus:function(){return!d&&S(!0)},"aria-expanded":m},r.a.createElement(N,{expandAnimationInProgress:O},a),r.a.createElement(T,{height:b},c.map((function(e,t){return r.a.createElement(B,{key:t,conversation:e,appName:n,position:G(c.length,t),expanded:m,handleOnClick:i,stack:c.length>1})})))))}var X=n(22),K=n(965),J=n(824),Q=n(180);function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return Z($(t=e.call.apply(e,[this].concat(o))||this),"handleDismiss",(function(){var e=t.props,n=e.onNotificationDismiss,o=e.conversations.map((function(e){return e.id}));t.addDismissMetrics(o),n(o);var r=Object(Q.f)();r&&r.focus()})),t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){var e=this.props.onDisplayNotifications,t=this.getSortedConversations();this.focusTrap=new J.a({document:this.props.frameWindow.document}),e(t)},i.componentWillUnmount=function(){this.focusTrap&&this.focusTrap.restore()},i.addDismissMetrics=function(e){e.forEach((function(e){Object(C.e)("closed","message","in_app","from_snippet",{conversation_id:e})}))},i.getSortedConversations=function(){return this.props.conversations.slice(-3).sort((function(e,t){return e.lastPartCreatedAt>t.lastPartCreatedAt}))},i.renderDismissButton=function(){var e=1===this.props.conversations.length?Object(X.d)("clear"):Object(X.d)("clear_all");return r.a.createElement(y.b,{onClick:this.handleDismiss,visibleDismissButton:Object(U.i)()},e,r.a.createElement(y.c,null))},i.renderConversationsGrouped=function(){var e=this.props,t=e.appName,n=e.onNotificationClick,o=e.frameNode,i=this.getSortedConversations();return r.a.createElement(Y,{conversations:i,appName:t,handleOnClick:n,frameNode:o},i.length>0?this.renderDismissButton():null)},i.render=function(){var e=this.props.frameWindow;return r.a.createElement(y.d,{className:"intercom-notifications"},this.renderConversationsGrouped(),r.a.createElement(K.a,{appWindow:e}))},o}(o.Component);ee.propTypes={appName:l.a.string.isRequired,frameNode:l.a.any.isRequired,frameWindow:l.a.any.isRequired,conversations:l.a.array.isRequired,onNotificationClick:l.a.func.isRequired,onNotificationDismiss:l.a.func.isRequired,onDisplayNotifications:l.a.func.isRequired};var te=n(20),ne=n(52),oe=n(203),re=n(291),ie=n(211),ae=Object(a.connect)((function(e){return{appName:e.app.name,conversations:Object(ie.a)(e)}}),(function(e){return{onNotificationClick:function(t){var n=t.id,o=t.parts,r=o[o.length-1],i=r.messageType;[void 0,"chat","link","notificationChannels","video"].indexOf(i)>-1?(e(Object(ne.f)(n)),e(Object(te.l)(s.b,n))):e(Object(oe.b)(n,r.id))},onNotificationDismiss:function(t){e(Object(re.b)(s.b,t))},onDisplayNotifications:function(t){t.forEach((function(t){var n=t.id,o=t.parts,r=o[o.length-1];e(Object(oe.c)(n,r.id))}))}}}))(ee),se=n(583),ce=n(45),le=Object(j.c)(se.a,{target:"e1gfsz3r0"})("position:fixed;z-index:",Object(ce.m)(),";",(function(e){var t=e.theme;return(Object(j.b)("bottom:",Object(ce.k)({theme:t})-10,"px;right:",t.horizontalPaddingPx-5,"px;"))})," ",(function(e){var t=e.width,n=e.height;return(Object(j.b)("width:",t+10,"px;height:",n+5,"px;"))})," ",(function(e){var t=e.theme;return t.isLeftAlign&&Object(j.b)("left:",t.horizontalPaddingPx-5,"px;right:auto;")}));function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",(function(){return de}));var de=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return ue(pe(t=e.call.apply(e,[this].concat(o))||this),"state",{width:0,height:0}),ue(pe(t),"handleMeasurementChange",(function(e){var n=e.width,o=e.height;t.setState({width:n,height:o})})),t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.render=function(){var e=this;return r.a.createElement(le,{frameName:"intercom-notifications-frame",title:"Intercom live chat "+Object(X.d)("message"),width:this.state.width,height:this.state.height},(function(t,n){return r.a.createElement(i.a,{onChange:e.handleMeasurementChange},r.a.createElement(ae,{frameWindow:t,frameNode:n}))}))},o}(o.Component)},1175:function(e,t,n){"use strict";n.r(t);var o=n(54),r=n(150),i=n.n(r),a=n(0),s=n.n(a),c=n(152),l=n(1051);var p=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.componentDidMount=function(){var e=this.props,t=e.isFetching,n=e.isFetched,o=e.onFetch;t||n||o()},r.render=function(){var e=this.props;return s.a.createElement(c.TransitionGroup,null,e.isFetched?s.a.createElement(c.CSSTransition,{classNames:"intercom-message",timeout:{enter:200,exit:200}},s.a.createElement(l.a,e)):null)},o}(a.Component);p.propTypes={isFetching:i.a.bool.isRequired,isFetched:i.a.bool.isRequired,onFetch:i.a.func.isRequired};var u=n(16),d=n(20),h=n(292),m=n(25);n.d(t,"mapStateToProps",(function(){return f})),n.d(t,"mapDispatchToProps",(function(){return g})),n.d(t,"mergeProps",(function(){return b}));var f=function(e){var t=Object(h.a)(e)[0];return{isFetching:t.isFetching,isFetched:!Object(m.m)(t),conversation:t}},g=function(e){return{onFetch:function(t){e(Object(d.l)(u.b,t))}}},b=function(e,t,n){return Object.assign({},e,t,n,{onFetch:function(){t.onFetch(e.conversation.id)}})};t.default=Object(o.connect)(f,g,b)(p)},1176:function(e,t,n){"use strict";n.r(t);var o=n(54),r=n(1072),i=n(1051),a=n(46),s=n(18),c=n(16),l=n(52),p=n(20),u=n(750),d=n(840);n.d(t,"mapStateToProps",(function(){return h}));var h=function(e){var t=e.user.isPresent,n=e.app,o=n.name,r=n.userConversationAttachmentsEnabled,i=n.userConversationGifsEnabled,c=Object(d.a)(e),l=c[0],p=s.a.isMobileBrowser();return{appName:o,conversation:l,part:c[0].parts[0],userIsPresent:t,isMobile:p,showUploadButton:r,showGifButton:i,shouldShowUpfrontEmailComposer:Object(a.i)(e),isUpfrontEmailComposerShowing:e.app.upfrontEmailCollection.upfrontEmailCollectorShowing}};t.default=Object(o.connect)(h,(function(e){return{onOpen:function(t,n){e(function(e,t){return{type:"OPEN_POINTER_MESSAGE",conversationId:e,partId:t}}(t,n))},onClose:function(t){e({type:"CLOSE_POINTER_MESSAGE"}),e(Object(u.a)(t))},onConversationRead:function(t){e(Object(p.n)(c.b,t))},onComposerOrFormInputClick:function(t){e({type:"CLOSE_POINTER_MESSAGE"}),e(Object(u.a)(t)),e(Object(l.f)(t)),e(Object(p.l)(c.b,t))},onReactionSelect:function(t,n){e(Object(p.k)(c.b,t,n,!1))}}}),i.b)(r.a)}}]);